ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"freertos.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.MX_FREERTOS_Init,"ax",%progbits
  20              		.align	1
  21              		.global	MX_FREERTOS_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	MX_FREERTOS_Init:
  27              	.LFB168:
  28              		.file 1 "Core/Src/freertos.c"
   1:Core/Src/freertos.c **** /* USER CODE BEGIN Header */
   2:Core/Src/freertos.c **** /**
   3:Core/Src/freertos.c ****  ******************************************************************************
   4:Core/Src/freertos.c ****  * File Name          : freertos.c
   5:Core/Src/freertos.c ****  * Description        : Code for freertos applications
   6:Core/Src/freertos.c ****  ******************************************************************************
   7:Core/Src/freertos.c ****  * @attention
   8:Core/Src/freertos.c ****  *
   9:Core/Src/freertos.c ****  * Copyright (c) 2023 STMicroelectronics.
  10:Core/Src/freertos.c ****  * All rights reserved.
  11:Core/Src/freertos.c ****  *
  12:Core/Src/freertos.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/freertos.c ****  * in the root directory of this software component.
  14:Core/Src/freertos.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/freertos.c ****  *
  16:Core/Src/freertos.c ****  ******************************************************************************
  17:Core/Src/freertos.c ****  */
  18:Core/Src/freertos.c **** /* USER CODE END Header */
  19:Core/Src/freertos.c **** 
  20:Core/Src/freertos.c **** /* Includes ------------------------------------------------------------------*/
  21:Core/Src/freertos.c **** #include "FreeRTOS.h"
  22:Core/Src/freertos.c **** #include "task.h"
  23:Core/Src/freertos.c **** #include "main.h"
  24:Core/Src/freertos.c **** #include "cmsis_os.h"
  25:Core/Src/freertos.c **** /* Private includes ----------------------------------------------------------*/
  26:Core/Src/freertos.c **** /* USER CODE BEGIN Includes */
  27:Core/Src/freertos.c **** #include "CO_app_STM32.h"
  28:Core/Src/freertos.c **** #include "OD.h"
  29:Core/Src/freertos.c **** #include "tim.h"
  30:Core/Src/freertos.c **** #include "comment.h"
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 2


  31:Core/Src/freertos.c **** #include "can.h"
  32:Core/Src/freertos.c **** #include "pid.h"
  33:Core/Src/freertos.c **** #include "adc.h"
  34:Core/Src/freertos.c **** #define Timer_ARR 5
  35:Core/Src/freertos.c **** /* USER CODE END Includes */
  36:Core/Src/freertos.c **** 
  37:Core/Src/freertos.c **** /* Private typedef -----------------------------------------------------------*/
  38:Core/Src/freertos.c **** /* USER CODE BEGIN PTD */
  39:Core/Src/freertos.c **** 
  40:Core/Src/freertos.c **** /* USER CODE END PTD */
  41:Core/Src/freertos.c **** 
  42:Core/Src/freertos.c **** /* Private define ------------------------------------------------------------*/
  43:Core/Src/freertos.c **** /* USER CODE BEGIN PD */
  44:Core/Src/freertos.c **** 
  45:Core/Src/freertos.c **** /* USER CODE END PD */
  46:Core/Src/freertos.c **** 
  47:Core/Src/freertos.c **** /* Private macro -------------------------------------------------------------*/
  48:Core/Src/freertos.c **** /* USER CODE BEGIN PM */
  49:Core/Src/freertos.c **** 
  50:Core/Src/freertos.c **** /* USER CODE END PM */
  51:Core/Src/freertos.c **** 
  52:Core/Src/freertos.c **** /* Private variables ---------------------------------------------------------*/
  53:Core/Src/freertos.c **** /* USER CODE BEGIN Variables */
  54:Core/Src/freertos.c **** 
  55:Core/Src/freertos.c **** /* USER CODE END Variables */
  56:Core/Src/freertos.c **** /* Definitions for PIDTask */
  57:Core/Src/freertos.c **** osThreadId_t PIDTaskHandle;
  58:Core/Src/freertos.c **** const osThreadAttr_t PIDTask_attributes = {
  59:Core/Src/freertos.c ****     .name = "PIDTask",
  60:Core/Src/freertos.c ****     .stack_size = 128 * 4,
  61:Core/Src/freertos.c ****     .priority = (osPriority_t)osPriorityHigh,
  62:Core/Src/freertos.c **** };
  63:Core/Src/freertos.c **** /* Definitions for canopenTask */
  64:Core/Src/freertos.c **** osThreadId_t canopenTaskHandle;
  65:Core/Src/freertos.c **** const osThreadAttr_t canopenTask_attributes = {
  66:Core/Src/freertos.c ****     .name = "canopenTask",
  67:Core/Src/freertos.c ****     .stack_size = 128 * 4,
  68:Core/Src/freertos.c ****     .priority = (osPriority_t)osPriorityRealtime,
  69:Core/Src/freertos.c **** };
  70:Core/Src/freertos.c **** 
  71:Core/Src/freertos.c **** /* Private function prototypes -----------------------------------------------*/
  72:Core/Src/freertos.c **** /* USER CODE BEGIN FunctionPrototypes */
  73:Core/Src/freertos.c **** PID_TypeDef TPID;
  74:Core/Src/freertos.c **** volatile double CCR_value = 0;
  75:Core/Src/freertos.c **** volatile double current_voltage = 0;
  76:Core/Src/freertos.c **** volatile double current_angle = 0;
  77:Core/Src/freertos.c **** volatile double db_target_angle = 0;
  78:Core/Src/freertos.c **** 
  79:Core/Src/freertos.c **** bool PID_contorl_lock = false;
  80:Core/Src/freertos.c **** int voltage_counter = 0;
  81:Core/Src/freertos.c **** volatile double previous_voltage = 0;
  82:Core/Src/freertos.c **** volatile double previos_error = 0;
  83:Core/Src/freertos.c **** 
  84:Core/Src/freertos.c **** bool protection_lock = false;
  85:Core/Src/freertos.c **** bool PID_safe_lock = false;
  86:Core/Src/freertos.c **** 
  87:Core/Src/freertos.c **** void TPDO_tarnsmit(uint8_t status, int16_t angle);
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 3


  88:Core/Src/freertos.c **** void analyze_voltage(void);
  89:Core/Src/freertos.c **** void PID_Error_handler(void);
  90:Core/Src/freertos.c **** void CW_CCW_deect(void);
  91:Core/Src/freertos.c **** void PID_init(void);
  92:Core/Src/freertos.c **** void PID_protection(void);
  93:Core/Src/freertos.c **** double abs(double a);
  94:Core/Src/freertos.c **** /* USER CODE END FunctionPrototypes */
  95:Core/Src/freertos.c **** 
  96:Core/Src/freertos.c **** void StartPIDTask(void *argument);
  97:Core/Src/freertos.c **** void canopen_task(void *argument);
  98:Core/Src/freertos.c **** 
  99:Core/Src/freertos.c **** void MX_FREERTOS_Init(void); /* (MISRA C 2004 rule 8.1) */
 100:Core/Src/freertos.c **** 
 101:Core/Src/freertos.c **** /**
 102:Core/Src/freertos.c ****  * @brief  FreeRTOS initialization
 103:Core/Src/freertos.c ****  * @param  None
 104:Core/Src/freertos.c ****  * @retval None
 105:Core/Src/freertos.c ****  */
 106:Core/Src/freertos.c **** void MX_FREERTOS_Init(void)
 107:Core/Src/freertos.c **** {
  29              		.loc 1 107 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
 108:Core/Src/freertos.c ****   /* USER CODE BEGIN Init */
 109:Core/Src/freertos.c **** 
 110:Core/Src/freertos.c ****   /* USER CODE END Init */
 111:Core/Src/freertos.c **** 
 112:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_MUTEX */
 113:Core/Src/freertos.c ****   /* add mutexes, ... */
 114:Core/Src/freertos.c ****   /* USER CODE END RTOS_MUTEX */
 115:Core/Src/freertos.c **** 
 116:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_SEMAPHORES */
 117:Core/Src/freertos.c ****   /* add semaphores, ... */
 118:Core/Src/freertos.c ****   /* USER CODE END RTOS_SEMAPHORES */
 119:Core/Src/freertos.c **** 
 120:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_TIMERS */
 121:Core/Src/freertos.c ****   /* start timers, add new ones, ... */
 122:Core/Src/freertos.c ****   /* USER CODE END RTOS_TIMERS */
 123:Core/Src/freertos.c **** 
 124:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_QUEUES */
 125:Core/Src/freertos.c ****   /* add queues, ... */
 126:Core/Src/freertos.c ****   /* USER CODE END RTOS_QUEUES */
 127:Core/Src/freertos.c **** 
 128:Core/Src/freertos.c ****   /* Create the thread(s) */
 129:Core/Src/freertos.c ****   /* creation of PIDTask */
 130:Core/Src/freertos.c ****   PIDTaskHandle = osThreadNew(StartPIDTask, NULL, &PIDTask_attributes);
  38              		.loc 1 130 3 view .LVU1
  39              		.loc 1 130 19 is_stmt 0 view .LVU2
  40 0002 074A     		ldr	r2, .L3
  41 0004 0021     		movs	r1, #0
  42 0006 0748     		ldr	r0, .L3+4
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 4


  43 0008 FFF7FEFF 		bl	osThreadNew
  44              	.LVL0:
  45              		.loc 1 130 17 view .LVU3
  46 000c 064B     		ldr	r3, .L3+8
  47 000e 1860     		str	r0, [r3]
 131:Core/Src/freertos.c **** 
 132:Core/Src/freertos.c ****   /* creation of canopenTask */
 133:Core/Src/freertos.c ****   canopenTaskHandle = osThreadNew(canopen_task, NULL, &canopenTask_attributes);
  48              		.loc 1 133 3 is_stmt 1 view .LVU4
  49              		.loc 1 133 23 is_stmt 0 view .LVU5
  50 0010 064A     		ldr	r2, .L3+12
  51 0012 0021     		movs	r1, #0
  52 0014 0648     		ldr	r0, .L3+16
  53 0016 FFF7FEFF 		bl	osThreadNew
  54              	.LVL1:
  55              		.loc 1 133 21 view .LVU6
  56 001a 064B     		ldr	r3, .L3+20
  57 001c 1860     		str	r0, [r3]
 134:Core/Src/freertos.c **** 
 135:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_THREADS */
 136:Core/Src/freertos.c ****   /* add threads, ... */
 137:Core/Src/freertos.c ****   /* USER CODE END RTOS_THREADS */
 138:Core/Src/freertos.c **** 
 139:Core/Src/freertos.c ****   /* USER CODE BEGIN RTOS_EVENTS */
 140:Core/Src/freertos.c ****   /* add events, ... */
 141:Core/Src/freertos.c ****   /* USER CODE END RTOS_EVENTS */
 142:Core/Src/freertos.c **** }
  58              		.loc 1 142 1 view .LVU7
  59 001e 08BD     		pop	{r3, pc}
  60              	.L4:
  61              		.align	2
  62              	.L3:
  63 0020 00000000 		.word	.LANCHOR0
  64 0024 00000000 		.word	StartPIDTask
  65 0028 00000000 		.word	.LANCHOR1
  66 002c 00000000 		.word	.LANCHOR2
  67 0030 00000000 		.word	canopen_task
  68 0034 00000000 		.word	.LANCHOR3
  69              		.cfi_endproc
  70              	.LFE168:
  72              		.global	__aeabi_dcmplt
  73              		.section	.text.CW_CCW_deect,"ax",%progbits
  74              		.align	1
  75              		.global	CW_CCW_deect
  76              		.syntax unified
  77              		.thumb
  78              		.thumb_func
  80              	CW_CCW_deect:
  81              	.LFB174:
 143:Core/Src/freertos.c **** 
 144:Core/Src/freertos.c **** /* USER CODE BEGIN Header_StartPIDTask */
 145:Core/Src/freertos.c **** /**
 146:Core/Src/freertos.c ****  * @brief  Function implementing the PIDTask thread.
 147:Core/Src/freertos.c ****  * @param  argument: Not used
 148:Core/Src/freertos.c ****  * @retval None
 149:Core/Src/freertos.c ****  */
 150:Core/Src/freertos.c **** /* USER CODE END Header_StartPIDTask */
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 5


 151:Core/Src/freertos.c **** void StartPIDTask(void *argument)
 152:Core/Src/freertos.c **** {
 153:Core/Src/freertos.c ****   /* USER CODE BEGIN StartPIDTask */
 154:Core/Src/freertos.c ****   PID_init();
 155:Core/Src/freertos.c ****   /* Infinite loop */
 156:Core/Src/freertos.c ****   for (;;)
 157:Core/Src/freertos.c ****   {
 158:Core/Src/freertos.c ****     while (!PID_contorl_lock)
 159:Core/Src/freertos.c ****     {
 160:Core/Src/freertos.c ****     }
 161:Core/Src/freertos.c ****     analyze_voltage();
 162:Core/Src/freertos.c ****     CW_CCW_deect();
 163:Core/Src/freertos.c ****     PID_Compute(&TPID);
 164:Core/Src/freertos.c ****     CCR_value = abs(CCR_value);
 165:Core/Src/freertos.c ****     PID_protection();
 166:Core/Src/freertos.c ****     if (PID_safe_lock == false)
 167:Core/Src/freertos.c ****     {
 168:Core/Src/freertos.c ****       if (abs(current_angle - db_target_angle) < 2)
 169:Core/Src/freertos.c ****       {
 170:Core/Src/freertos.c ****         TIM2->CCR2 = 0;
 171:Core/Src/freertos.c ****       }
 172:Core/Src/freertos.c ****       else
 173:Core/Src/freertos.c ****       {
 174:Core/Src/freertos.c ****         TIM2->CCR2 = ((int)CCR_value * 10);
 175:Core/Src/freertos.c ****       }
 176:Core/Src/freertos.c ****     }
 177:Core/Src/freertos.c ****     else
 178:Core/Src/freertos.c ****     {
 179:Core/Src/freertos.c ****       HAL_GPIO_TogglePin(LED_GPIO_Port, LED_Pin);
 180:Core/Src/freertos.c ****     }
 181:Core/Src/freertos.c ****     osDelay(50);
 182:Core/Src/freertos.c ****   }
 183:Core/Src/freertos.c ****   /* USER CODE END StartPIDTask */
 184:Core/Src/freertos.c **** }
 185:Core/Src/freertos.c **** 
 186:Core/Src/freertos.c **** /* USER CODE BEGIN Header_canopen_task */
 187:Core/Src/freertos.c **** /**
 188:Core/Src/freertos.c ****  * @brief Function implementing the canopenTask thread.
 189:Core/Src/freertos.c ****  * @param argument: Not used
 190:Core/Src/freertos.c ****  * @retval None
 191:Core/Src/freertos.c ****  */
 192:Core/Src/freertos.c **** /* USER CODE END Header_canopen_task */
 193:Core/Src/freertos.c **** void canopen_task(void *argument)
 194:Core/Src/freertos.c **** {
 195:Core/Src/freertos.c ****   /* USER CODE BEGIN canopen_task */
 196:Core/Src/freertos.c ****   CANopenNodeSTM32 canOpenNodeSTM32;
 197:Core/Src/freertos.c ****   canOpenNodeSTM32.CANHandle = &hcan;
 198:Core/Src/freertos.c ****   canOpenNodeSTM32.HWInitFunction = MX_CAN_Init;
 199:Core/Src/freertos.c ****   canOpenNodeSTM32.timerHandle = &htim17;
 200:Core/Src/freertos.c ****   canOpenNodeSTM32.desiredNodeID = 17;
 201:Core/Src/freertos.c ****   canOpenNodeSTM32.baudrate = 125;
 202:Core/Src/freertos.c ****   canopen_app_init(&canOpenNodeSTM32);
 203:Core/Src/freertos.c ****   int8_t pre_target_angle = OD_PERSIST_COMM.x6001_target_angle;
 204:Core/Src/freertos.c ****   uint8_t pre_target_CW_CCW = OD_PERSIST_COMM.x6004_target_CW_CCW;
 205:Core/Src/freertos.c ****   db_target_angle = OD_PERSIST_COMM.x6001_target_angle;
 206:Core/Src/freertos.c ****   /* Infinite loop */
 207:Core/Src/freertos.c ****   for (;;)
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 6


 208:Core/Src/freertos.c ****   {
 209:Core/Src/freertos.c ****     canopen_app_process();
 210:Core/Src/freertos.c ****     if (OD_PERSIST_COMM.x6001_target_angle != pre_target_angle || OD_PERSIST_COMM.x6004_target_CW_C
 211:Core/Src/freertos.c ****     {
 212:Core/Src/freertos.c ****       PID_contorl_lock = true;
 213:Core/Src/freertos.c ****       if (OD_PERSIST_COMM.x6001_target_angle > 40 && OD_PERSIST_COMM.x6004_target_CW_CCW == 0)
 214:Core/Src/freertos.c ****       {
 215:Core/Src/freertos.c ****         db_target_angle = 35;
 216:Core/Src/freertos.c ****         TPDO_tarnsmit(6, 99);
 217:Core/Src/freertos.c ****       }
 218:Core/Src/freertos.c ****       else if (OD_PERSIST_COMM.x6001_target_angle < 40 && OD_PERSIST_COMM.x6004_target_CW_CCW == 0)
 219:Core/Src/freertos.c ****       {
 220:Core/Src/freertos.c ****         db_target_angle = (double)OD_PERSIST_COMM.x6001_target_angle;
 221:Core/Src/freertos.c ****       }
 222:Core/Src/freertos.c ****       else if (OD_PERSIST_COMM.x6001_target_angle > 40 && OD_PERSIST_COMM.x6004_target_CW_CCW == 1)
 223:Core/Src/freertos.c ****       {
 224:Core/Src/freertos.c ****         db_target_angle = 40 * -1;
 225:Core/Src/freertos.c ****         TPDO_tarnsmit(6, 99);
 226:Core/Src/freertos.c ****       }
 227:Core/Src/freertos.c ****       else if (OD_PERSIST_COMM.x6001_target_angle < 40 && OD_PERSIST_COMM.x6004_target_CW_CCW == 1)
 228:Core/Src/freertos.c ****       {
 229:Core/Src/freertos.c ****         db_target_angle = (double)OD_PERSIST_COMM.x6001_target_angle * -1;
 230:Core/Src/freertos.c ****       }
 231:Core/Src/freertos.c ****       pre_target_angle = OD_PERSIST_COMM.x6001_target_angle;
 232:Core/Src/freertos.c ****       pre_target_CW_CCW = OD_PERSIST_COMM.x6004_target_CW_CCW;
 233:Core/Src/freertos.c ****     }
 234:Core/Src/freertos.c ****     osDelay(100);
 235:Core/Src/freertos.c ****   }
 236:Core/Src/freertos.c ****   /* USER CODE END canopen_task */
 237:Core/Src/freertos.c **** }
 238:Core/Src/freertos.c **** /* Private application code --------------------------------------------------*/
 239:Core/Src/freertos.c **** /* USER CODE BEGIN Application */
 240:Core/Src/freertos.c **** void analyze_voltage(void)
 241:Core/Src/freertos.c **** {
 242:Core/Src/freertos.c ****   if (voltage_counter == 0)
 243:Core/Src/freertos.c ****   {
 244:Core/Src/freertos.c ****     previous_voltage = current_voltage;
 245:Core/Src/freertos.c ****     previos_error = abs(current_angle - db_target_angle);
 246:Core/Src/freertos.c ****   }
 247:Core/Src/freertos.c ****   HAL_ADC_Start(&hadc1);
 248:Core/Src/freertos.c ****   HAL_ADC_PollForConversion(&hadc1, 1);
 249:Core/Src/freertos.c ****   current_voltage = HAL_ADC_GetValue(&hadc1);
 250:Core/Src/freertos.c ****   current_voltage = ((current_voltage / 4096) * 3.3);
 251:Core/Src/freertos.c ****   current_angle = (int)(((current_voltage * 2) - 1.6) * 25 - 25); // min_voltage => 1.6  mid_voltag
 252:Core/Src/freertos.c ****   if (voltage_counter == 4)
 253:Core/Src/freertos.c ****   {
 254:Core/Src/freertos.c ****     protection_lock = true;
 255:Core/Src/freertos.c ****   }
 256:Core/Src/freertos.c ****   else
 257:Core/Src/freertos.c ****   {
 258:Core/Src/freertos.c ****     protection_lock = false;
 259:Core/Src/freertos.c ****   }
 260:Core/Src/freertos.c ****   voltage_counter = (voltage_counter + 1) % Timer_ARR;
 261:Core/Src/freertos.c ****   if (current_angle >= 0)
 262:Core/Src/freertos.c ****   {
 263:Core/Src/freertos.c ****     OD_PERSIST_COMM.x6005_current_CW_CCW = 0;
 264:Core/Src/freertos.c ****   }
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 7


 265:Core/Src/freertos.c ****   else
 266:Core/Src/freertos.c ****   {
 267:Core/Src/freertos.c ****     OD_PERSIST_COMM.x6005_current_CW_CCW = 1;
 268:Core/Src/freertos.c ****   }
 269:Core/Src/freertos.c **** }
 270:Core/Src/freertos.c **** void PID_protection(void)
 271:Core/Src/freertos.c **** {
 272:Core/Src/freertos.c ****   if (current_angle > 40 || current_voltage < -40) // outof voltage range 4.4v ~ 1.6v
 273:Core/Src/freertos.c ****   {
 274:Core/Src/freertos.c ****     PID_Error_handler();
 275:Core/Src/freertos.c ****     TPDO_tarnsmit(2, 99); // 2.reach limit
 276:Core/Src/freertos.c ****   }
 277:Core/Src/freertos.c ****   /*
 278:Core/Src/freertos.c ****   if ((abs(current_voltage - previous_voltage) > 1 || abs(current_voltage - previous_voltage) < 0.0
 279:Core/Src/freertos.c ****   {
 280:Core/Src/freertos.c ****     PID_Error_handler();
 281:Core/Src/freertos.c ****     TPDO_tarnsmit(3, 99); // 3. Angle reader abnormal
 282:Core/Src/freertos.c ****   }
 283:Core/Src/freertos.c ****   if (abs((current_angle - db_target_angle) - previos_error) < 2 && abs(current_angle - db_target_a
 284:Core/Src/freertos.c ****   {
 285:Core/Src/freertos.c ****     PID_Error_handler();
 286:Core/Src/freertos.c ****     TPDO_tarnsmit(4, 99); // 4. Error not decrease
 287:Core/Src/freertos.c ****   }
 288:Core/Src/freertos.c ****   */
 289:Core/Src/freertos.c ****   else
 290:Core/Src/freertos.c ****   {
 291:Core/Src/freertos.c ****     TPDO_tarnsmit(0, abs(current_angle)); // 0.normal output
 292:Core/Src/freertos.c ****   }
 293:Core/Src/freertos.c **** }
 294:Core/Src/freertos.c **** void PID_init(void)
 295:Core/Src/freertos.c **** {
 296:Core/Src/freertos.c ****   TIM2->CCR2 = 0; // CCR_value bigger the rpm will highter 0~100
 297:Core/Src/freertos.c ****   HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_2);
 298:Core/Src/freertos.c ****   HAL_GPIO_WritePin(CW_CCW_control_GPIO_Port, CW_CCW_control_Pin, 1);
 299:Core/Src/freertos.c ****   osDelay(500);
 300:Core/Src/freertos.c ****   analyze_voltage();
 301:Core/Src/freertos.c ****   // db_target_angle = Virtual_target_angle;
 302:Core/Src/freertos.c ****   PID(&TPID, &current_angle, &CCR_value, &db_target_angle, 0.3, 0, 0, _PID_P_ON_E, _PID_CD_DIRECT);
 303:Core/Src/freertos.c ****   PID_SetMode(&TPID, _PID_MODE_AUTOMATIC);
 304:Core/Src/freertos.c ****   PID_SetSampleTime(&TPID, 50);
 305:Core/Src/freertos.c ****   PID_SetOutputLimits(&TPID, -10, 10);
 306:Core/Src/freertos.c **** }
 307:Core/Src/freertos.c **** void CW_CCW_deect(void)
 308:Core/Src/freertos.c **** {
  82              		.loc 1 308 1 is_stmt 1 view -0
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 0
  85              		@ frame_needed = 0, uses_anonymous_args = 0
  86 0000 08B5     		push	{r3, lr}
  87              	.LCFI1:
  88              		.cfi_def_cfa_offset 8
  89              		.cfi_offset 3, -8
  90              		.cfi_offset 14, -4
 309:Core/Src/freertos.c ****   if (current_angle < db_target_angle)
  91              		.loc 1 309 3 view .LVU9
  92              		.loc 1 309 21 is_stmt 0 view .LVU10
  93 0002 0B4B     		ldr	r3, .L12
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 8


  94 0004 D3E90001 		ldrd	r0, [r3]
  95              		.loc 1 309 6 view .LVU11
  96 0008 0A4B     		ldr	r3, .L12+4
  97 000a D3E90023 		ldrd	r2, [r3]
  98 000e FFF7FEFF 		bl	__aeabi_dcmplt
  99              	.LVL2:
 100 0012 30B1     		cbz	r0, .L10
 310:Core/Src/freertos.c ****   {
 311:Core/Src/freertos.c ****     HAL_GPIO_WritePin(CW_CCW_control_GPIO_Port, CW_CCW_control_Pin, 0);
 101              		.loc 1 311 5 is_stmt 1 view .LVU12
 102 0014 0022     		movs	r2, #0
 103 0016 0821     		movs	r1, #8
 104 0018 4FF09040 		mov	r0, #1207959552
 105 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 106              	.LVL3:
 107              	.L5:
 312:Core/Src/freertos.c ****   }
 313:Core/Src/freertos.c ****   else
 314:Core/Src/freertos.c ****   {
 315:Core/Src/freertos.c ****     HAL_GPIO_WritePin(CW_CCW_control_GPIO_Port, CW_CCW_control_Pin, 1);
 316:Core/Src/freertos.c ****   }
 317:Core/Src/freertos.c **** }
 108              		.loc 1 317 1 is_stmt 0 view .LVU13
 109 0020 08BD     		pop	{r3, pc}
 110              	.L10:
 315:Core/Src/freertos.c ****   }
 111              		.loc 1 315 5 is_stmt 1 view .LVU14
 112 0022 0122     		movs	r2, #1
 113 0024 0821     		movs	r1, #8
 114 0026 4FF09040 		mov	r0, #1207959552
 115 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
 116              	.LVL4:
 117              		.loc 1 317 1 is_stmt 0 view .LVU15
 118 002e F7E7     		b	.L5
 119              	.L13:
 120              		.align	2
 121              	.L12:
 122 0030 00000000 		.word	.LANCHOR4
 123 0034 00000000 		.word	.LANCHOR5
 124              		.cfi_endproc
 125              	.LFE174:
 127              		.section	.text.PID_Error_handler,"ax",%progbits
 128              		.align	1
 129              		.global	PID_Error_handler
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 134              	PID_Error_handler:
 135              	.LFB175:
 318:Core/Src/freertos.c **** void PID_Error_handler(void)
 319:Core/Src/freertos.c **** {
 136              		.loc 1 319 1 is_stmt 1 view -0
 137              		.cfi_startproc
 138              		@ args = 0, pretend = 0, frame = 0
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140              		@ link register save eliminated.
 320:Core/Src/freertos.c ****   TIM2->CCR2 = 0;
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 9


 141              		.loc 1 320 3 view .LVU17
 142              		.loc 1 320 14 is_stmt 0 view .LVU18
 143 0000 4FF08043 		mov	r3, #1073741824
 144 0004 0022     		movs	r2, #0
 145 0006 9A63     		str	r2, [r3, #56]
 321:Core/Src/freertos.c ****   PID_safe_lock = true;
 146              		.loc 1 321 3 is_stmt 1 view .LVU19
 147              		.loc 1 321 17 is_stmt 0 view .LVU20
 148 0008 014B     		ldr	r3, .L15
 149 000a 0122     		movs	r2, #1
 150 000c 1A70     		strb	r2, [r3]
 322:Core/Src/freertos.c **** }
 151              		.loc 1 322 1 view .LVU21
 152 000e 7047     		bx	lr
 153              	.L16:
 154              		.align	2
 155              	.L15:
 156 0010 00000000 		.word	.LANCHOR6
 157              		.cfi_endproc
 158              	.LFE175:
 160              		.section	.text.abs,"ax",%progbits
 161              		.align	1
 162              		.global	abs
 163              		.syntax unified
 164              		.thumb
 165              		.thumb_func
 167              	abs:
 168              	.LVL5:
 169              	.LFB176:
 323:Core/Src/freertos.c **** double abs(double a)
 324:Core/Src/freertos.c **** {
 170              		.loc 1 324 1 is_stmt 1 view -0
 171              		.cfi_startproc
 172              		@ args = 0, pretend = 0, frame = 0
 173              		@ frame_needed = 0, uses_anonymous_args = 0
 174              		.loc 1 324 1 is_stmt 0 view .LVU23
 175 0000 38B5     		push	{r3, r4, r5, lr}
 176              	.LCFI2:
 177              		.cfi_def_cfa_offset 16
 178              		.cfi_offset 3, -16
 179              		.cfi_offset 4, -12
 180              		.cfi_offset 5, -8
 181              		.cfi_offset 14, -4
 182 0002 55EC104B 		vmov	r4, r5, d0
 325:Core/Src/freertos.c ****   if (a < 0)
 183              		.loc 1 325 3 is_stmt 1 view .LVU24
 184              		.loc 1 325 6 is_stmt 0 view .LVU25
 185 0006 0022     		movs	r2, #0
 186 0008 0023     		movs	r3, #0
 187 000a 10EE100A 		vmov	r0, s0	@ int
 188 000e 2946     		mov	r1, r5
 189 0010 FFF7FEFF 		bl	__aeabi_dcmplt
 190              	.LVL6:
 191              		.loc 1 325 6 view .LVU26
 192 0014 10B9     		cbnz	r0, .L22
 193              	.L18:
 326:Core/Src/freertos.c ****   {
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 10


 327:Core/Src/freertos.c ****     return (a * -1);
 328:Core/Src/freertos.c ****   }
 329:Core/Src/freertos.c ****   return a;
 330:Core/Src/freertos.c **** }
 194              		.loc 1 330 1 view .LVU27
 195 0016 45EC104B 		vmov	d0, r4, r5
 196 001a 38BD     		pop	{r3, r4, r5, pc}
 197              	.LVL7:
 198              	.L22:
 327:Core/Src/freertos.c ****   }
 199              		.loc 1 327 5 is_stmt 1 view .LVU28
 327:Core/Src/freertos.c ****   }
 200              		.loc 1 327 15 is_stmt 0 view .LVU29
 201 001c 05F10043 		add	r3, r5, #-2147483648
 202 0020 1D46     		mov	r5, r3
 203 0022 F8E7     		b	.L18
 204              		.cfi_endproc
 205              	.LFE176:
 207              		.global	__aeabi_dsub
 208              		.global	__aeabi_ui2d
 209              		.global	__aeabi_dmul
 210              		.global	__aeabi_dadd
 211              		.global	__aeabi_d2iz
 212              		.global	__aeabi_i2d
 213              		.global	__aeabi_dcmpge
 214              		.section	.text.analyze_voltage,"ax",%progbits
 215              		.align	1
 216              		.global	analyze_voltage
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 221              	analyze_voltage:
 222              	.LFB171:
 241:Core/Src/freertos.c ****   if (voltage_counter == 0)
 223              		.loc 1 241 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227 0000 10B5     		push	{r4, lr}
 228              	.LCFI3:
 229              		.cfi_def_cfa_offset 8
 230              		.cfi_offset 4, -8
 231              		.cfi_offset 14, -4
 242:Core/Src/freertos.c ****   {
 232              		.loc 1 242 3 view .LVU31
 242:Core/Src/freertos.c ****   {
 233              		.loc 1 242 23 is_stmt 0 view .LVU32
 234 0002 414B     		ldr	r3, .L34+16
 235 0004 1B68     		ldr	r3, [r3]
 242:Core/Src/freertos.c ****   {
 236              		.loc 1 242 6 view .LVU33
 237 0006 A3B9     		cbnz	r3, .L24
 244:Core/Src/freertos.c ****     previos_error = abs(current_angle - db_target_angle);
 238              		.loc 1 244 5 is_stmt 1 view .LVU34
 244:Core/Src/freertos.c ****     previos_error = abs(current_angle - db_target_angle);
 239              		.loc 1 244 22 is_stmt 0 view .LVU35
 240 0008 404B     		ldr	r3, .L34+20
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 11


 241 000a D3E90001 		ldrd	r0, [r3]
 242 000e 404B     		ldr	r3, .L34+24
 243 0010 C3E90001 		strd	r0, [r3]
 245:Core/Src/freertos.c ****   }
 244              		.loc 1 245 5 is_stmt 1 view .LVU36
 245:Core/Src/freertos.c ****   }
 245              		.loc 1 245 21 is_stmt 0 view .LVU37
 246 0014 3F4B     		ldr	r3, .L34+28
 247 0016 D3E90001 		ldrd	r0, [r3]
 248 001a 3F4B     		ldr	r3, .L34+32
 249 001c D3E90023 		ldrd	r2, [r3]
 250 0020 FFF7FEFF 		bl	__aeabi_dsub
 251              	.LVL8:
 252 0024 41EC100B 		vmov	d0, r0, r1
 253 0028 FFF7FEFF 		bl	abs
 254              	.LVL9:
 245:Core/Src/freertos.c ****   }
 255              		.loc 1 245 19 view .LVU38
 256 002c 3B4B     		ldr	r3, .L34+36
 257 002e 83ED000B 		vstr.64	d0, [r3]
 258              	.L24:
 247:Core/Src/freertos.c ****   HAL_ADC_PollForConversion(&hadc1, 1);
 259              		.loc 1 247 3 is_stmt 1 view .LVU39
 260 0032 3B4C     		ldr	r4, .L34+40
 261 0034 2046     		mov	r0, r4
 262 0036 FFF7FEFF 		bl	HAL_ADC_Start
 263              	.LVL10:
 248:Core/Src/freertos.c ****   current_voltage = HAL_ADC_GetValue(&hadc1);
 264              		.loc 1 248 3 view .LVU40
 265 003a 0121     		movs	r1, #1
 266 003c 2046     		mov	r0, r4
 267 003e FFF7FEFF 		bl	HAL_ADC_PollForConversion
 268              	.LVL11:
 249:Core/Src/freertos.c ****   current_voltage = ((current_voltage / 4096) * 3.3);
 269              		.loc 1 249 3 view .LVU41
 249:Core/Src/freertos.c ****   current_voltage = ((current_voltage / 4096) * 3.3);
 270              		.loc 1 249 21 is_stmt 0 view .LVU42
 271 0042 2046     		mov	r0, r4
 272 0044 FFF7FEFF 		bl	HAL_ADC_GetValue
 273              	.LVL12:
 249:Core/Src/freertos.c ****   current_voltage = ((current_voltage / 4096) * 3.3);
 274              		.loc 1 249 19 view .LVU43
 275 0048 FFF7FEFF 		bl	__aeabi_ui2d
 276              	.LVL13:
 277 004c 2F4C     		ldr	r4, .L34+20
 278 004e C4E90001 		strd	r0, [r4]
 250:Core/Src/freertos.c ****   current_angle = (int)(((current_voltage * 2) - 1.6) * 25 - 25); // min_voltage => 1.6  mid_voltag
 279              		.loc 1 250 3 is_stmt 1 view .LVU44
 250:Core/Src/freertos.c ****   current_angle = (int)(((current_voltage * 2) - 1.6) * 25 - 25); // min_voltage => 1.6  mid_voltag
 280              		.loc 1 250 39 is_stmt 0 view .LVU45
 281 0052 0022     		movs	r2, #0
 282 0054 334B     		ldr	r3, .L34+44
 283 0056 D4E90001 		ldrd	r0, [r4]
 284 005a FFF7FEFF 		bl	__aeabi_dmul
 285              	.LVL14:
 250:Core/Src/freertos.c ****   current_angle = (int)(((current_voltage * 2) - 1.6) * 25 - 25); // min_voltage => 1.6  mid_voltag
 286              		.loc 1 250 47 view .LVU46
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 12


 287 005e 26A3     		adr	r3, .L34
 288 0060 D3E90023 		ldrd	r2, [r3]
 289 0064 FFF7FEFF 		bl	__aeabi_dmul
 290              	.LVL15:
 250:Core/Src/freertos.c ****   current_angle = (int)(((current_voltage * 2) - 1.6) * 25 - 25); // min_voltage => 1.6  mid_voltag
 291              		.loc 1 250 19 view .LVU47
 292 0068 C4E90001 		strd	r0, [r4]
 251:Core/Src/freertos.c ****   if (voltage_counter == 4)
 293              		.loc 1 251 3 is_stmt 1 view .LVU48
 251:Core/Src/freertos.c ****   if (voltage_counter == 4)
 294              		.loc 1 251 43 is_stmt 0 view .LVU49
 295 006c D4E90001 		ldrd	r0, [r4]
 296 0070 0246     		mov	r2, r0
 297 0072 0B46     		mov	r3, r1
 298 0074 FFF7FEFF 		bl	__aeabi_dadd
 299              	.LVL16:
 251:Core/Src/freertos.c ****   if (voltage_counter == 4)
 300              		.loc 1 251 48 view .LVU50
 301 0078 21A3     		adr	r3, .L34+8
 302 007a D3E90023 		ldrd	r2, [r3]
 303 007e FFF7FEFF 		bl	__aeabi_dsub
 304              	.LVL17:
 251:Core/Src/freertos.c ****   if (voltage_counter == 4)
 305              		.loc 1 251 55 view .LVU51
 306 0082 0022     		movs	r2, #0
 307 0084 284B     		ldr	r3, .L34+48
 308 0086 FFF7FEFF 		bl	__aeabi_dmul
 309              	.LVL18:
 251:Core/Src/freertos.c ****   if (voltage_counter == 4)
 310              		.loc 1 251 60 view .LVU52
 311 008a 0022     		movs	r2, #0
 312 008c 264B     		ldr	r3, .L34+48
 313 008e FFF7FEFF 		bl	__aeabi_dsub
 314              	.LVL19:
 251:Core/Src/freertos.c ****   if (voltage_counter == 4)
 315              		.loc 1 251 19 view .LVU53
 316 0092 FFF7FEFF 		bl	__aeabi_d2iz
 317              	.LVL20:
 251:Core/Src/freertos.c ****   if (voltage_counter == 4)
 318              		.loc 1 251 17 view .LVU54
 319 0096 FFF7FEFF 		bl	__aeabi_i2d
 320              	.LVL21:
 321 009a 1E4B     		ldr	r3, .L34+28
 322 009c C3E90001 		strd	r0, [r3]
 252:Core/Src/freertos.c ****   {
 323              		.loc 1 252 3 is_stmt 1 view .LVU55
 252:Core/Src/freertos.c ****   {
 324              		.loc 1 252 23 is_stmt 0 view .LVU56
 325 00a0 194B     		ldr	r3, .L34+16
 326 00a2 1A68     		ldr	r2, [r3]
 252:Core/Src/freertos.c ****   {
 327              		.loc 1 252 6 view .LVU57
 328 00a4 042A     		cmp	r2, #4
 329 00a6 1BD0     		beq	.L33
 258:Core/Src/freertos.c ****   }
 330              		.loc 1 258 5 is_stmt 1 view .LVU58
 258:Core/Src/freertos.c ****   }
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 13


 331              		.loc 1 258 21 is_stmt 0 view .LVU59
 332 00a8 204B     		ldr	r3, .L34+52
 333 00aa 0021     		movs	r1, #0
 334 00ac 1970     		strb	r1, [r3]
 335              	.L26:
 260:Core/Src/freertos.c ****   if (current_angle >= 0)
 336              		.loc 1 260 3 is_stmt 1 view .LVU60
 260:Core/Src/freertos.c ****   if (current_angle >= 0)
 337              		.loc 1 260 38 is_stmt 0 view .LVU61
 338 00ae 0132     		adds	r2, r2, #1
 260:Core/Src/freertos.c ****   if (current_angle >= 0)
 339              		.loc 1 260 43 view .LVU62
 340 00b0 1F49     		ldr	r1, .L34+56
 341 00b2 81FB0231 		smull	r3, r1, r1, r2
 342 00b6 D317     		asrs	r3, r2, #31
 343 00b8 C3EB6103 		rsb	r3, r3, r1, asr #1
 344 00bc 03EB8303 		add	r3, r3, r3, lsl #2
 345 00c0 D31A     		subs	r3, r2, r3
 260:Core/Src/freertos.c ****   if (current_angle >= 0)
 346              		.loc 1 260 19 view .LVU63
 347 00c2 114A     		ldr	r2, .L34+16
 348 00c4 1360     		str	r3, [r2]
 261:Core/Src/freertos.c ****   {
 349              		.loc 1 261 3 is_stmt 1 view .LVU64
 261:Core/Src/freertos.c ****   {
 350              		.loc 1 261 6 is_stmt 0 view .LVU65
 351 00c6 0022     		movs	r2, #0
 352 00c8 0023     		movs	r3, #0
 353 00ca 1249     		ldr	r1, .L34+28
 354 00cc D1E90001 		ldrd	r0, [r1]
 355 00d0 FFF7FEFF 		bl	__aeabi_dcmpge
 356              	.LVL22:
 357 00d4 40B1     		cbz	r0, .L31
 263:Core/Src/freertos.c ****   }
 358              		.loc 1 263 5 is_stmt 1 view .LVU66
 263:Core/Src/freertos.c ****   }
 359              		.loc 1 263 42 is_stmt 0 view .LVU67
 360 00d6 174B     		ldr	r3, .L34+60
 361 00d8 0022     		movs	r2, #0
 362 00da 83F8D020 		strb	r2, [r3, #208]
 363              	.L23:
 269:Core/Src/freertos.c **** void PID_protection(void)
 364              		.loc 1 269 1 view .LVU68
 365 00de 10BD     		pop	{r4, pc}
 366              	.L33:
 254:Core/Src/freertos.c ****   }
 367              		.loc 1 254 5 is_stmt 1 view .LVU69
 254:Core/Src/freertos.c ****   }
 368              		.loc 1 254 21 is_stmt 0 view .LVU70
 369 00e0 124B     		ldr	r3, .L34+52
 370 00e2 0121     		movs	r1, #1
 371 00e4 1970     		strb	r1, [r3]
 372 00e6 E2E7     		b	.L26
 373              	.L31:
 267:Core/Src/freertos.c ****   }
 374              		.loc 1 267 5 is_stmt 1 view .LVU71
 267:Core/Src/freertos.c ****   }
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 14


 375              		.loc 1 267 42 is_stmt 0 view .LVU72
 376 00e8 124B     		ldr	r3, .L34+60
 377 00ea 0122     		movs	r2, #1
 378 00ec 83F8D020 		strb	r2, [r3, #208]
 269:Core/Src/freertos.c **** void PID_protection(void)
 379              		.loc 1 269 1 view .LVU73
 380 00f0 F5E7     		b	.L23
 381              	.L35:
 382 00f2 00BFAFF3 		.align	3
 382      0080
 383              	.L34:
 384 00f8 66666666 		.word	1717986918
 385 00fc 66660A40 		.word	1074423398
 386 0100 9A999999 		.word	-1717986918
 387 0104 9999F93F 		.word	1073322393
 388 0108 00000000 		.word	.LANCHOR7
 389 010c 00000000 		.word	.LANCHOR8
 390 0110 00000000 		.word	.LANCHOR9
 391 0114 00000000 		.word	.LANCHOR4
 392 0118 00000000 		.word	.LANCHOR5
 393 011c 00000000 		.word	.LANCHOR10
 394 0120 00000000 		.word	hadc1
 395 0124 0000303F 		.word	1060110336
 396 0128 00003940 		.word	1077477376
 397 012c 00000000 		.word	.LANCHOR11
 398 0130 67666666 		.word	1717986919
 399 0134 00000000 		.word	OD_PERSIST_COMM
 400              		.cfi_endproc
 401              	.LFE171:
 403              		.section	.text.PID_init,"ax",%progbits
 404              		.align	1
 405              		.global	PID_init
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 410              	PID_init:
 411              	.LFB173:
 295:Core/Src/freertos.c ****   TIM2->CCR2 = 0; // CCR_value bigger the rpm will highter 0~100
 412              		.loc 1 295 1 is_stmt 1 view -0
 413              		.cfi_startproc
 414              		@ args = 0, pretend = 0, frame = 0
 415              		@ frame_needed = 0, uses_anonymous_args = 0
 416 0000 30B5     		push	{r4, r5, lr}
 417              	.LCFI4:
 418              		.cfi_def_cfa_offset 12
 419              		.cfi_offset 4, -12
 420              		.cfi_offset 5, -8
 421              		.cfi_offset 14, -4
 422 0002 83B0     		sub	sp, sp, #12
 423              	.LCFI5:
 424              		.cfi_def_cfa_offset 24
 296:Core/Src/freertos.c ****   HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_2);
 425              		.loc 1 296 3 view .LVU75
 296:Core/Src/freertos.c ****   HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_2);
 426              		.loc 1 296 14 is_stmt 0 view .LVU76
 427 0004 0025     		movs	r5, #0
 428 0006 4FF08043 		mov	r3, #1073741824
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 15


 429 000a 9D63     		str	r5, [r3, #56]
 297:Core/Src/freertos.c ****   HAL_GPIO_WritePin(CW_CCW_control_GPIO_Port, CW_CCW_control_Pin, 1);
 430              		.loc 1 297 3 is_stmt 1 view .LVU77
 431 000c 0421     		movs	r1, #4
 432 000e 2248     		ldr	r0, .L38+32
 433 0010 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 434              	.LVL23:
 298:Core/Src/freertos.c ****   osDelay(500);
 435              		.loc 1 298 3 view .LVU78
 436 0014 0122     		movs	r2, #1
 437 0016 0821     		movs	r1, #8
 438 0018 4FF09040 		mov	r0, #1207959552
 439 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 440              	.LVL24:
 299:Core/Src/freertos.c ****   analyze_voltage();
 441              		.loc 1 299 3 view .LVU79
 442 0020 4FF4FA70 		mov	r0, #500
 443 0024 FFF7FEFF 		bl	osDelay
 444              	.LVL25:
 300:Core/Src/freertos.c ****   // db_target_angle = Virtual_target_angle;
 445              		.loc 1 300 3 view .LVU80
 446 0028 FFF7FEFF 		bl	analyze_voltage
 447              	.LVL26:
 302:Core/Src/freertos.c ****   PID_SetMode(&TPID, _PID_MODE_AUTOMATIC);
 448              		.loc 1 302 3 view .LVU81
 449 002c 9FED121B 		vldr.64	d1, .L38
 450 0030 1A4C     		ldr	r4, .L38+36
 451 0032 0195     		str	r5, [sp, #4]
 452 0034 0125     		movs	r5, #1
 453 0036 0095     		str	r5, [sp]
 454 0038 B0EE412A 		vmov.f32	s4, s2
 455 003c F0EE612A 		vmov.f32	s5, s3
 456 0040 9FED0F0B 		vldr.64	d0, .L38+8
 457 0044 164B     		ldr	r3, .L38+40
 458 0046 174A     		ldr	r2, .L38+44
 459 0048 1749     		ldr	r1, .L38+48
 460 004a 2046     		mov	r0, r4
 461 004c FFF7FEFF 		bl	PID
 462              	.LVL27:
 303:Core/Src/freertos.c ****   PID_SetSampleTime(&TPID, 50);
 463              		.loc 1 303 3 view .LVU82
 464 0050 2946     		mov	r1, r5
 465 0052 2046     		mov	r0, r4
 466 0054 FFF7FEFF 		bl	PID_SetMode
 467              	.LVL28:
 304:Core/Src/freertos.c ****   PID_SetOutputLimits(&TPID, -10, 10);
 468              		.loc 1 304 3 view .LVU83
 469 0058 3221     		movs	r1, #50
 470 005a 2046     		mov	r0, r4
 471 005c FFF7FEFF 		bl	PID_SetSampleTime
 472              	.LVL29:
 305:Core/Src/freertos.c **** }
 473              		.loc 1 305 3 view .LVU84
 474 0060 9FED091B 		vldr.64	d1, .L38+16
 475 0064 9FED0A0B 		vldr.64	d0, .L38+24
 476 0068 2046     		mov	r0, r4
 477 006a FFF7FEFF 		bl	PID_SetOutputLimits
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 16


 478              	.LVL30:
 306:Core/Src/freertos.c **** void CW_CCW_deect(void)
 479              		.loc 1 306 1 is_stmt 0 view .LVU85
 480 006e 03B0     		add	sp, sp, #12
 481              	.LCFI6:
 482              		.cfi_def_cfa_offset 12
 483              		@ sp needed
 484 0070 30BD     		pop	{r4, r5, pc}
 485              	.L39:
 486 0072 00BFAFF3 		.align	3
 486      0080
 487              	.L38:
 488 0078 00000000 		.word	0
 489 007c 00000000 		.word	0
 490 0080 33333333 		.word	858993459
 491 0084 3333D33F 		.word	1070805811
 492 0088 00000000 		.word	0
 493 008c 00002440 		.word	1076101120
 494 0090 00000000 		.word	0
 495 0094 000024C0 		.word	-1071382528
 496 0098 00000000 		.word	htim2
 497 009c 00000000 		.word	.LANCHOR13
 498 00a0 00000000 		.word	.LANCHOR5
 499 00a4 00000000 		.word	.LANCHOR12
 500 00a8 00000000 		.word	.LANCHOR4
 501              		.cfi_endproc
 502              	.LFE173:
 504              		.section	.text.TPDO_tarnsmit,"ax",%progbits
 505              		.align	1
 506              		.global	TPDO_tarnsmit
 507              		.syntax unified
 508              		.thumb
 509              		.thumb_func
 511              	TPDO_tarnsmit:
 512              	.LVL31:
 513              	.LFB177:
 331:Core/Src/freertos.c **** void TPDO_tarnsmit(uint8_t status, int16_t angle)
 332:Core/Src/freertos.c **** {
 514              		.loc 1 332 1 is_stmt 1 view -0
 515              		.cfi_startproc
 516              		@ args = 0, pretend = 0, frame = 8
 517              		@ frame_needed = 0, uses_anonymous_args = 0
 518              		.loc 1 332 1 is_stmt 0 view .LVU87
 519 0000 70B5     		push	{r4, r5, r6, lr}
 520              	.LCFI7:
 521              		.cfi_def_cfa_offset 16
 522              		.cfi_offset 4, -16
 523              		.cfi_offset 5, -12
 524              		.cfi_offset 6, -8
 525              		.cfi_offset 14, -4
 526 0002 84B0     		sub	sp, sp, #16
 527              	.LCFI8:
 528              		.cfi_def_cfa_offset 32
 333:Core/Src/freertos.c ****   OD_PERSIST_COMM.x6000_current_angle = angle;
 529              		.loc 1 333 3 is_stmt 1 view .LVU88
 530              		.loc 1 333 39 is_stmt 0 view .LVU89
 531 0004 204D     		ldr	r5, .L43
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 17


 532 0006 85F8CC10 		strb	r1, [r5, #204]
 334:Core/Src/freertos.c ****   OD_PERSIST_COMM.x6003_status = status;
 533              		.loc 1 334 3 is_stmt 1 view .LVU90
 534              		.loc 1 334 32 is_stmt 0 view .LVU91
 535 000a 85F8CE00 		strb	r0, [r5, #206]
 335:Core/Src/freertos.c ****   OD_set_u16(OD_find(OD, 0x6000), 0x000, OD_PERSIST_COMM.x6000_current_angle, false); // change_obj
 536              		.loc 1 335 3 is_stmt 1 view .LVU92
 537 000e 1F4E     		ldr	r6, .L43+4
 538              		.loc 1 335 14 is_stmt 0 view .LVU93
 539 0010 4FF4C041 		mov	r1, #24576
 540              	.LVL32:
 541              		.loc 1 335 14 view .LVU94
 542 0014 3068     		ldr	r0, [r6]
 543              	.LVL33:
 544              		.loc 1 335 14 view .LVU95
 545 0016 FFF7FEFF 		bl	OD_find
 546              	.LVL34:
 547              		.loc 1 335 57 view .LVU96
 548 001a 95F9CC30 		ldrsb	r3, [r5, #204]
 549              	.LVL35:
 550              		.loc 1 335 57 view .LVU97
 551 001e ADF80E30 		strh	r3, [sp, #14]	@ movhi
 552              	.LVL36:
 553              	.LBB10:
 554              	.LBI10:
 555              		.file 2 "Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h"
   1:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
   2:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * CANopen Object Dictionary interface
   3:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
   4:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @file        CO_ODinterface.h
   5:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ingroup     CO_ODinterface
   6:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @author      Janez Paternoster
   7:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @copyright   2020 Janez Paternoster
   8:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
   9:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * This file is part of CANopenNode, an opensource CANopen Stack.
  10:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Project home page is <https://github.com/CANopenNode/CANopenNode>.
  11:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * For more information on CANopen see <http://www.can-cia.org/>.
  12:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
  13:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Licensed under the Apache License, Version 2.0 (the "License");
  14:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * you may not use this file except in compliance with the License.
  15:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * You may obtain a copy of the License at
  16:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
  17:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *     http://www.apache.org/licenses/LICENSE-2.0
  18:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
  19:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Unless required by applicable law or agreed to in writing, software
  20:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * distributed under the License is distributed on an "AS IS" BASIS,
  21:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * See the License for the specific language governing permissions and
  23:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * limitations under the License.
  24:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
  25:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  26:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #ifndef CO_OD_INTERFACE_H
  27:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #define CO_OD_INTERFACE_H
  28:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  29:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #include "301/CO_driver.h"
  30:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  31:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #ifdef __cplusplus
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 18


  32:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** extern "C" {
  33:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
  34:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  35:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
  36:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @defgroup CO_ODinterface OD interface
  37:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * CANopen Object Dictionary interface.
  38:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
  39:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ingroup CO_CANopen_301
  40:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @{
  41:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * See @ref doc/objectDictionary.md
  42:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
  43:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  44:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #ifndef CO_OD_OWN_TYPES
  45:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Variable of type OD_size_t contains data length in bytes of OD variable */
  46:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef uint32_t OD_size_t;
  47:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Type (and size) of Object Dictionary attribute */
  48:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef uint8_t OD_attr_t;
  49:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
  50:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  51:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #ifndef OD_FLAGS_PDO_SIZE
  52:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Size of of flagsPDO variable inside @ref OD_extension_t, from 0 to 32. */
  53:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #define OD_FLAGS_PDO_SIZE 4
  54:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
  55:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  56:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #ifndef CO_PROGMEM
  57:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Modifier for OD objects. This is large amount of data and is specified in
  58:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Object Dictionary (OD.c file usually) */
  59:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #define CO_PROGMEM const
  60:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
  61:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  62:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
  63:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
  64:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Common DS301 object dictionary entries.
  65:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
  66:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef enum {
  67:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1000_DEV_TYPE           = 0x1000U,/**< Device type */
  68:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1001_ERR_REG            = 0x1001U,/**< Error register */
  69:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1002_MANUF_STATUS_REG   = 0x1002U,/**< Manufacturer status register */
  70:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1003_PREDEF_ERR_FIELD   = 0x1003U,/**< Predefined error field */
  71:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1004_RSV                = 0x1004U,/**< Reserved */
  72:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1005_COBID_SYNC         = 0x1005U,/**< Sync message cob-id */
  73:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1006_COMM_CYCL_PERIOD   = 0x1006U,/**< Communication cycle period */
  74:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1007_SYNC_WINDOW_LEN    = 0x1007U,/**< Sync windows length */
  75:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1008_MANUF_DEV_NAME     = 0x1008U,/**< Manufacturer device name */
  76:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1009_MANUF_HW_VERSION   = 0x1009U,/**< Manufacturer hardware version */
  77:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H100A_MANUF_SW_VERSION   = 0x100AU,/**< Manufacturer software version */
  78:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H100B_RSV                = 0x100BU,/**< Reserved */
  79:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H100C_GUARD_TIME         = 0x100CU,/**< Guard time */
  80:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H100D_LIFETIME_FACTOR    = 0x100DU,/**< Life time factor */
  81:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H100E_RSV                = 0x100EU,/**< Reserved */
  82:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H100F_RSV                = 0x100FU,/**< Reserved */
  83:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1010_STORE_PARAMETERS   = 0x1010U,/**< Store params in persistent mem.*/
  84:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1011_RESTORE_DEFAULT    = 0x1011U,/**< Restore default parameters */
  85:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1012_COBID_TIME         = 0x1012U,/**< Timestamp message cob-id */
  86:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1013_HIGH_RES_TIMESTAMP = 0x1013U,/**< High resolution timestamp */
  87:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1014_COBID_EMERGENCY    = 0x1014U,/**< Emergency message cob-id */
  88:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1015_INHIBIT_TIME_EMCY  = 0x1015U,/**< Inhibit time emergency message */
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 19


  89:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1016_CONSUMER_HB_TIME   = 0x1016U,/**< Consumer heartbeat time */
  90:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1017_PRODUCER_HB_TIME   = 0x1017U,/**< Producer heartbeat time */
  91:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1018_IDENTITY_OBJECT    = 0x1018U,/**< Identity object */
  92:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1019_SYNC_CNT_OVERFLOW  = 0x1019U,/**< Sync counter overflow value */
  93:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1020_VERIFY_CONFIG      = 0x1020U,/**< Verify configuration */
  94:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1021_STORE_EDS          = 0x1021U,/**< Store EDS */
  95:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1022_STORE_FORMAT       = 0x1022U,/**< Store format */
  96:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1023_OS_CMD             = 0x1023U,/**< OS command */
  97:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1024_OS_CMD_MODE        = 0x1024U,/**< OS command mode */
  98:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1025_OS_DBG_INTERFACE   = 0x1025U,/**< OS debug interface */
  99:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1026_OS_PROMPT          = 0x1026U,/**< OS prompt */
 100:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1027_MODULE_LIST        = 0x1027U,/**< Module list */
 101:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1028_EMCY_CONSUMER      = 0x1028U,/**< Emergency consumer object */
 102:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1029_ERR_BEHAVIOR       = 0x1029U,/**< Error behaviour */
 103:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1200_SDO_SERVER_1_PARAM = 0x1200U,/**< SDO server parameter */
 104:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1280_SDO_CLIENT_1_PARAM = 0x1280U,/**< SDO client parameter */
 105:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1300_GFC_PARAM          = 0x1300U,/**< Global fail-safe command param */
 106:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1301_SRDO_1_PARAM       = 0x1301U,/**< SRDO communication parameter */
 107:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1381_SRDO_1_MAPPING     = 0x1381U,/**< SRDO mapping parameter */
 108:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H13FE_SRDO_VALID         = 0x13FEU,/**< SRDO Configuration valid */
 109:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H13FF_SRDO_CHECKSUM      = 0x13FFU,/**< SRDO configuration checksum */
 110:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1400_RXPDO_1_PARAM      = 0x1400U,/**< RXPDO communication parameter */
 111:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1600_RXPDO_1_MAPPING    = 0x1600U,/**< RXPDO mapping parameters */
 112:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1800_TXPDO_1_PARAM      = 0x1800U,/**< TXPDO communication parameter */
 113:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_H1A00_TXPDO_1_MAPPING    = 0x1A00U,/**< TXPDO mapping parameters */
 114:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } OD_ObjDicId_30x_t;
 115:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 116:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 117:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 118:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Attributes (bit masks) for OD sub-object.
 119:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 120:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef enum {
 121:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_SDO_R = 0x01, /**< SDO server may read from the variable */
 122:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_SDO_W = 0x02, /**< SDO server may write to the variable */
 123:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_SDO_RW = 0x03, /**< SDO server may read from or write to the variable */
 124:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_TPDO = 0x04, /**< Variable is mappable into TPDO (can be read) */
 125:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_RPDO = 0x08, /**< Variable is mappable into RPDO (can be written) */
 126:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_TRPDO = 0x0C, /**< Variable is mappable into TPDO or RPDO */
 127:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_TSRDO = 0x10, /**< Variable is mappable into transmitting SRDO */
 128:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_RSRDO = 0x20, /**< Variable is mappable into receiving SRDO */
 129:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_TRSRDO = 0x30, /**< Variable is mappable into tx or rx SRDO */
 130:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_MB = 0x40, /**< Variable is multi-byte ((u)int16_t to (u)int64_t) */
 131:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODA_STR = 0x80 /**< Shorter value, than specified variable size, may be
 132:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     written to the variable. SDO write will fill remaining memory with zeroes.
 133:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     Attribute is used for VISIBLE_STRING and UNICODE_STRING. */
 134:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } OD_attributes_t;
 135:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 136:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 137:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 138:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Return codes from OD access functions.
 139:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 140:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ref OD_getSDOabCode() can be used to retrieve corresponding SDO abort code.
 141:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 142:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef enum {
 143:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /* !!!! WARNING !!!!
 144:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * If changing these values, change also OD_getSDOabCode() function!
 145:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 20


 146:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Read/write is only partial, make more calls */
 147:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_PARTIAL = -1,
 148:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x00000000 - Read/write successfully finished */
 149:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_OK = 0,
 150:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x05040005 - Out of memory */
 151:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_OUT_OF_MEM = 1,
 152:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06010000 - Unsupported access to an object */
 153:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_UNSUPP_ACCESS = 2,
 154:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06010001 - Attempt to read a write only object */
 155:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_WRITEONLY = 3,
 156:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06010002 - Attempt to write a read only object */
 157:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_READONLY = 4,
 158:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06020000 - Object does not exist in the object dict. */
 159:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_IDX_NOT_EXIST = 5,
 160:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06040041 - Object cannot be mapped to the PDO */
 161:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_NO_MAP = 6,
 162:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06040042 - PDO length exceeded */
 163:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_MAP_LEN = 7,
 164:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06040043 - General parameter incompatibility reasons */
 165:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_PAR_INCOMPAT = 8,
 166:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06040047 - General internal incompatibility in device */
 167:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_DEV_INCOMPAT = 9,
 168:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06060000 - Access failed due to hardware error */
 169:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_HW = 10,
 170:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06070010 - Data type does not match */
 171:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_TYPE_MISMATCH = 11,
 172:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06070012 - Data type does not match, length too high */
 173:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_DATA_LONG = 12,
 174:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06070013 - Data type does not match, length too short */
 175:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_DATA_SHORT = 13,
 176:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06090011 - Sub index does not exist */
 177:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_SUB_NOT_EXIST = 14,
 178:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06090030 - Invalid value for parameter (download only) */
 179:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_INVALID_VALUE = 15,
 180:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06090031 - Value range of parameter written too high */
 181:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_VALUE_HIGH = 16,
 182:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06090032 - Value range of parameter written too low */
 183:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_VALUE_LOW = 17,
 184:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x06090036 - Maximum value is less than minimum value */
 185:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_MAX_LESS_MIN = 18,
 186:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x060A0023 - Resource not available: SDO connection */
 187:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_NO_RESOURCE = 19,
 188:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x08000000 - General error */
 189:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_GENERAL = 20,
 190:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x08000020 - Data cannot be transferred or stored to app */
 191:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_DATA_TRANSF = 21,
 192:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x08000021 - Data can't be transferred (local control) */
 193:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_DATA_LOC_CTRL = 22,
 194:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x08000022 - Data can't be transf. (present device state) */
 195:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_DATA_DEV_STATE = 23,
 196:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x08000023 - Object dictionary not present */
 197:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_OD_MISSING = 23,
 198:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** SDO abort 0x08000024 - No data available */
 199:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_NO_DATA = 25,
 200:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Last element, number of responses */
 201:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_COUNT = 26
 202:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } ODR_t;
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 21


 203:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 204:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 205:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 206:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * IO stream structure, used for read/write access to OD variable, part of
 207:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ref OD_IO_t.
 208:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 209:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef struct {
 210:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Pointer to original data object, defined by Object Dictionary. Default
 211:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * read/write functions operate on it. If memory for data object is not
 212:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * specified by Object Dictionary, then dataOrig is NULL.
 213:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      */
 214:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     void *dataOrig;
 215:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Pointer to object, passed by @ref OD_extension_init(). Can be used
 216:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * inside read / write functions from IO extension.
 217:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      */
 218:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     void *object;
 219:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Data length in bytes or 0, if length is not specified */
 220:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_size_t dataLength;
 221:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** In case of large data, dataOffset indicates position of already
 222:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * transferred data */
 223:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_size_t dataOffset;
 224:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Attribute bit-field of the OD sub-object, see @ref OD_attributes_t */
 225:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_attr_t attribute;
 226:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Sub index of the OD sub-object, informative */
 227:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     uint8_t subIndex;
 228:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } OD_stream_t;
 229:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 230:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 231:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 232:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Structure for input / output on the OD variable. It is initialized with
 233:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ref OD_getSub() function. Access principle to OD variable is via read/write
 234:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * functions operating on stream, similar as standard read/write.
 235:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 236:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef struct {
 237:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Object Dictionary stream object, passed to read or write */
 238:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_stream_t stream;
 239:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /**
 240:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * Function pointer for reading value from specified variable from Object
 241:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * Dictionary. If OD variable is larger than buf, then this function must
 242:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * be called several times. After completed successful read function returns
 243:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * 'ODR_OK'. If read is partial, it returns 'ODR_PARTIAL'. In case of errors
 244:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * function returns code similar to SDO abort code.
 245:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 246:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * Read can be restarted with @ref OD_rwRestart() function.
 247:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 248:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * At the moment, when Object Dictionary is initialized, every variable has
 249:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * assigned the same "read" function. This default function simply copies
 250:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * data from Object Dictionary variable. Application can bind its own "read"
 251:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * function for specific object. In that case application is able to
 252:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * calculate data for reading from own internal state at the moment of
 253:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * "read" function call. Own "read" function on OD object can be initialized
 254:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * with @ref OD_extension_init() function.
 255:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 256:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * "read" function must always copy all own data to buf, except if "buf" is
 257:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * not large enough. ("*returnCode" must not return 'ODR_PARTIAL', if there
 258:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * is still space in "buf".)
 259:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 22


 260:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @warning When accessing OD variables by calling the read() function, it
 261:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * may be necessary to use @ref CO_LOCK_OD() and @ref CO_UNLOCK_OD() macros.
 262:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * See @ref CO_critical_sections for more information.
 263:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 264:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param stream Object Dictionary stream object.
 265:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param buf Pointer to external buffer, where to data will be copied.
 266:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param count Size of the external buffer in bytes.
 267:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param [out] countRead If return value is "ODR_OK" or "ODR_PARTIAL",
 268:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * then number of bytes successfully read must be returned here.
 269:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 270:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @return Value from @ref ODR_t, "ODR_OK" in case of success.
 271:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      */
 272:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_t (*read)(OD_stream_t *stream, void *buf,
 273:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                   OD_size_t count, OD_size_t *countRead);
 274:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /**
 275:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * Function pointer for writing value into specified variable inside Object
 276:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * Dictionary. If OD variable is larger than buf, then this function must
 277:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * be called several times. After completed successful write function
 278:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * returns 'ODR_OK'. If write is partial, it returns 'ODR_PARTIAL'. In case
 279:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * of errors function returns code similar to SDO abort code.
 280:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 281:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * Write can be restarted with @ref OD_rwRestart() function.
 282:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 283:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * At the moment, when Object Dictionary is initialized, every variable has
 284:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * assigned the same "write" function, which simply copies data to Object
 285:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * Dictionary variable. Application can bind its own "write" function,
 286:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * similar as it can bind "read" function.
 287:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 288:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * "write" function must always copy all available data from buf. If OD
 289:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * variable expect more data, then "*returnCode" must return 'ODR_PARTIAL'.
 290:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 291:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @warning When accessing OD variables by calling the read() function, it
 292:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * may be necessary to use @ref CO_LOCK_OD() and @ref CO_UNLOCK_OD() macros.
 293:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * See @ref CO_critical_sections for more information.
 294:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 295:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param stream Object Dictionary stream object.
 296:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param buf Pointer to external buffer, from where data will be copied.
 297:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param count Size of the external buffer in bytes.
 298:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @param [out] countWritten If return value is "ODR_OK" or "ODR_PARTIAL",
 299:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * then number of bytes successfully written must be returned here.
 300:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 301:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @return Value from @ref ODR_t, "ODR_OK" in case of success.
 302:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      */
 303:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_t (*write)(OD_stream_t *stream, const void *buf,
 304:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                    OD_size_t count, OD_size_t *countWritten);
 305:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } OD_IO_t;
 306:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 307:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 308:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 309:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Extension of OD object, which can optionally be specified by application in
 310:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * initialization phase with @ref OD_extension_init() function.
 311:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 312:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef struct {
 313:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Object on which read and write will operate, part of @ref OD_stream_t */
 314:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     void *object;
 315:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Application specified read function pointer. If NULL, then read will be
 316:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * disabled. @ref OD_readOriginal can be used here to keep the original read
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 23


 317:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * function. For function description see @ref OD_IO_t. */
 318:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_t (*read)(OD_stream_t *stream, void *buf,
 319:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                   OD_size_t count, OD_size_t *countRead);
 320:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Application specified write function pointer. If NULL, then write will
 321:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * be disabled. @ref OD_writeOriginal can be used here to keep the original
 322:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * write function. For function description see @ref OD_IO_t. */
 323:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     ODR_t (*write)(OD_stream_t *stream, const void *buf,
 324:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                    OD_size_t count, OD_size_t *countWritten);
 325:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #if OD_FLAGS_PDO_SIZE > 0
 326:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /**PDO flags bit-field provides one bit for each OD variable, which exist
 327:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * inside OD object at specific sub index. If application clears that bit,
 328:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * and OD variable is mapped to an event driven TPDO, then TPDO will be
 329:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * sent.
 330:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      *
 331:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @ref OD_FLAGS_PDO_SIZE can have a value from 0 to 32 bytes, which
 332:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * corresponds to 0 to 256 available bits. If, for example,
 333:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * @ref OD_FLAGS_PDO_SIZE has value 4, then OD variables with sub index up
 334:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * to 31 will have the TPDO requesting functionality.
 335:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * See also @ref OD_requestTPDO and @ref OD_TPDOtransmitted. */
 336:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     uint8_t flagsPDO[OD_FLAGS_PDO_SIZE];
 337:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
 338:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } OD_extension_t;
 339:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 340:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 341:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 342:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Object Dictionary entry for one OD object.
 343:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 344:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * OD entries are collected inside OD_t as array (list). Each OD entry contains
 345:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * basic information about OD object (index and subEntriesCount), pointer to
 346:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * odObject with additional information about var, array or record entry and
 347:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * pointer to extension, configurable by application.
 348:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 349:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef struct {
 350:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Object Dictionary index */
 351:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     uint16_t index;
 352:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Number of all sub-entries, including sub-entry at sub-index 0 */
 353:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     uint8_t subEntriesCount;
 354:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Type of the odObject, indicated by @ref OD_objectTypes_t enumerator. */
 355:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     uint8_t odObjectType;
 356:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** OD object of type indicated by odObjectType, from which @ref OD_getSub()
 357:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****      * fetches the information */
 358:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     CO_PROGMEM void *odObject;
 359:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Extension to OD, specified by application */
 360:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_extension_t *extension;
 361:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } OD_entry_t;
 362:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 363:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 364:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 365:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Object Dictionary
 366:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 367:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** typedef struct {
 368:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** Number of elements in the list, without last element, which is blank */
 369:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     uint16_t size;
 370:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     /** List OD entries (table of contents), ordered by index */
 371:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     OD_entry_t *list;
 372:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** } OD_t;
 373:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 24


 374:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 375:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 376:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Read value from original OD location
 377:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 378:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * This function can be used inside read / write functions, specified by
 379:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ref OD_extension_init(). It reads data directly from memory location
 380:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * specified by Object dictionary. If no IO extension is used on OD entry, then
 381:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * io->read returned by @ref OD_getSub() equals to this function. See
 382:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * also @ref OD_IO_t.
 383:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 384:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** ODR_t OD_readOriginal(OD_stream_t *stream, void *buf,
 385:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                       OD_size_t count, OD_size_t *countRead);
 386:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 387:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 388:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 389:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Write value to original OD location
 390:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 391:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * This function can be used inside read / write functions, specified by
 392:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ref OD_extension_init(). It writes data directly to memory location
 393:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * specified by Object dictionary. If no IO extension is used on OD entry, then
 394:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * io->write returned by @ref OD_getSub() equals to this function. See
 395:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * also @ref OD_IO_t.
 396:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 397:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** ODR_t OD_writeOriginal(OD_stream_t *stream, const void *buf,
 398:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                        OD_size_t count, OD_size_t *countWritten);
 399:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 400:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 401:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 402:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Find OD entry in Object Dictionary
 403:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 404:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param od Object Dictionary
 405:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param index CANopen Object Dictionary index of object in Object Dictionary
 406:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 407:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return Pointer to OD entry or NULL if not found
 408:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 409:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** OD_entry_t *OD_find(OD_t *od, uint16_t index);
 410:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 411:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 412:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 413:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Find sub-object with specified sub-index on OD entry returned by OD_find.
 414:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Function populates io structure with sub-object data.
 415:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 416:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @warning
 417:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Read and write functions may be called from different threads, so critical
 418:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * sections in custom functions must be observed, see @ref CO_critical_sections.
 419:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 420:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param entry OD entry returned by @ref OD_find().
 421:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param subIndex Sub-index of the variable from the OD object.
 422:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param [out] io Structure will be populated on success.
 423:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param odOrig If true, then potential IO extension on entry will be
 424:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * ignored and access to data entry in the original OD location will be returned
 425:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 426:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return Value from @ref ODR_t, "ODR_OK" in case of success.
 427:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 428:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** ODR_t OD_getSub(const OD_entry_t *entry, uint8_t subIndex,
 429:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                 OD_IO_t *io, bool_t odOrig);
 430:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 25


 431:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 432:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 433:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Return index from OD entry
 434:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 435:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param entry OD entry returned by @ref OD_find().
 436:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 437:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return OD index
 438:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 439:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline uint16_t OD_getIndex(const OD_entry_t *entry) {
 440:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return (entry != NULL) ? entry->index : 0;
 441:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 442:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 443:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 444:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 445:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Check, if OD variable is mappable to PDO or SRDO.
 446:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 447:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * If OD variable is mappable, then it may be necessary to protect read/write
 448:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * access from mainline function. See @ref CO_critical_sections.
 449:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 450:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param stream Object Dictionary stream object.
 451:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 452:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return true, if OD variable is mappable.
 453:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 454:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline bool_t OD_mappable(OD_stream_t *stream) {
 455:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return (stream != NULL)
 456:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****          ? (stream->attribute & (ODA_TRPDO | ODA_TRSRDO)) != 0 : false;
 457:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 458:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 459:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 460:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 461:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Restart read or write operation on OD variable
 462:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 463:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * It is not necessary to call this function, if stream was initialized by
 464:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ref OD_getSub(). It is also not necessary to call this function, if
 465:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * previous read or write was successfully finished.
 466:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 467:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param stream Object Dictionary stream object.
 468:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 469:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline void OD_rwRestart(OD_stream_t *stream) {
 470:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     if (stream != NULL) stream->dataOffset = 0;
 471:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 472:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 473:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 474:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 475:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Get TPDO request flags for OD entry.
 476:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 477:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * flagsPDO can be used for @ref OD_requestTPDO() or @ref OD_TPDOtransmitted().
 478:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 479:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param entry OD entry returned by @ref OD_find().
 480:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 481:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return pointer to flagsPDO
 482:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 483:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline uint8_t *OD_getFlagsPDO(OD_entry_t *entry) {
 484:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #if OD_FLAGS_PDO_SIZE > 0
 485:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     if (entry != NULL && entry->extension != NULL) {
 486:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         return &entry->extension->flagsPDO[0];
 487:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     }
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 26


 488:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
 489:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return 0;
 490:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 491:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 492:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 493:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 494:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Request TPDO, to which OD variable is mapped
 495:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 496:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Function clears the flagPDO bit, which corresponds to OD variable at specific
 497:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * OD index and subindex. For this functionality to work, @ref OD_extension_t
 498:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * must be enabled on OD variable. If OD variable is mapped to any TPDO with
 499:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * event driven transmission, then TPDO will be transmitted after this function
 500:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * call. If OD variable is mapped to more than one TPDO with event driven
 501:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * transmission, only the first matched TPDO will be transmitted.
 502:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 503:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * TPDO event driven transmission is enabled, if TPDO communication parameter,
 504:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * transmission type is set to 0, 254 or 255. For other transmission types
 505:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * (synchronous) flagPDO bit is ignored.
 506:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 507:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param flagsPDO TPDO request flags returned by @ref OD_getFlagsPDO.
 508:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param subIndex subIndex of the OD variable.
 509:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 510:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline void OD_requestTPDO(uint8_t *flagsPDO, uint8_t subIndex) {
 511:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #if OD_FLAGS_PDO_SIZE > 0
 512:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     if (flagsPDO != NULL && subIndex < (OD_FLAGS_PDO_SIZE * 8)) {
 513:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         /* clear subIndex-th bit */
 514:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         uint8_t mask = ~(1 << (subIndex & 0x07));
 515:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         flagsPDO[subIndex >> 3] &= mask;
 516:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     }
 517:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
 518:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 519:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 520:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 521:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 522:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Check if requested TPDO was transmitted
 523:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 524:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param flagsPDO TPDO request flags returned by @ref OD_getFlagsPDO.
 525:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param subIndex subIndex of the OD variable.
 526:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 527:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return Return true if event driven TPDO with mapping to OD variable,
 528:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * indicated by flagsPDO and subIndex, was transmitted since last
 529:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @ref OD_requestTPDO call. If there was no @ref OD_requestTPDO call yet and
 530:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * TPDO was transmitted by other event, function also returns true.
 531:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 532:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline bool_t OD_TPDOtransmitted(uint8_t *flagsPDO, uint8_t subIndex) {
 533:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #if OD_FLAGS_PDO_SIZE > 0
 534:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     if (flagsPDO != NULL && subIndex < (OD_FLAGS_PDO_SIZE * 8)) {
 535:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         /* return true, if subIndex-th bit is set */
 536:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         uint8_t mask = 1 << (subIndex & 0x07);
 537:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         if ((flagsPDO[subIndex >> 3] & mask) != 0) {
 538:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****             return true;
 539:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****         }
 540:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     }
 541:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** #endif
 542:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return false;
 543:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 544:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 27


 545:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 546:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 547:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Get SDO abort code from returnCode
 548:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 549:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param returnCode Returned from some OD access functions
 550:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 551:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return Corresponding @ref CO_SDO_abortCode_t
 552:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 553:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** uint32_t OD_getSDOabCode(ODR_t returnCode);
 554:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 555:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 556:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 557:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Extend OD object with own read/write functions and/or flagsPDO
 558:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 559:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * This function gives application very powerful tool: definition of own IO
 560:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * access on OD object. Structure and attributes are the same as defined in
 561:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * original OD object, but data are read directly from (or written directly to)
 562:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * application specified object via custom function calls.
 563:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 564:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Before this function specifies extension, OD variables are accessed from
 565:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * original OD location. After this function specifies extension OD variables
 566:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * are accessed from read/write functions specified by extension. (Except when
 567:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * "odOrig" argument to @ref OD_getSub() is set to true.)
 568:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 569:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * This function must also be used, when flagsPDO needs to be enabled for
 570:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * specific entry.
 571:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 572:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @warning
 573:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Object dictionary storage works only directly on OD variables. It does not
 574:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * access read function specified here. So, if extended OD objects needs to be
 575:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * preserved, then @ref OD_writeOriginal can be used inside custom write
 576:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * function.
 577:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 578:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @warning
 579:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Read and write functions may be called from different threads, so critical
 580:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * sections in custom functions must be observed, see @ref CO_critical_sections.
 581:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 582:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param entry OD entry returned by @ref OD_find().
 583:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param extension Extension object, which must be initialized externally.
 584:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Extension object must exist permanently. If NULL, extension will be removed.
 585:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 586:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return "ODR_OK" on success, "ODR_IDX_NOT_EXIST" if OD object doesn't exist.
 587:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 588:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_extension_init(OD_entry_t *entry,
 589:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                       OD_extension_t *extension)
 590:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 591:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     if (entry == NULL) return ODR_IDX_NOT_EXIST;
 592:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     entry->extension = extension;
 593:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return ODR_OK;
 594:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 595:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 596:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 597:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 598:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @defgroup CO_ODgetSetters Getters and setters
 599:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @{
 600:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 601:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Getter and setter helper functions for accessing different types of Object
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 28


 602:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Dictionary variables.
 603:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 604:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 605:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Get variable from Object Dictionary
 606:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 607:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param entry OD entry returned by @ref OD_find().
 608:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param subIndex Sub-index of the variable from the OD object.
 609:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param [out] val Value will be written here.
 610:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param len Size of value to retrieve from OD.
 611:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param odOrig If true, then potential IO extension on entry will be
 612:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * ignored and data in the original OD location will be returned.
 613:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 614:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return Value from @ref ODR_t, "ODR_OK" in case of success. Error, if
 615:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * variable does not exist in object dictionary or it does not have the correct
 616:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * length or other reason.
 617:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 618:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** ODR_t OD_get_value(const OD_entry_t *entry, uint8_t subIndex,
 619:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                    void *val, OD_size_t len, bool_t odOrig);
 620:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 621:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get int8_t variable from Object Dictionary, see @ref OD_get_value */
 622:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_i8(const OD_entry_t *entry, uint8_t subIndex,
 623:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                               int8_t *val, bool_t odOrig)
 624:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 625:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 626:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 627:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 628:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get int16_t variable from Object Dictionary, see @ref OD_get_value */
 629:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_i16(const OD_entry_t *entry, uint8_t subIndex,
 630:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                int16_t *val, bool_t odOrig)
 631:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 632:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 633:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 634:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 635:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get int32_t variable from Object Dictionary, see @ref OD_get_value */
 636:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_i32(const OD_entry_t *entry, uint8_t subIndex,
 637:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                int32_t *val, bool_t odOrig)
 638:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 639:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 640:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 641:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 642:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get int64_t variable from Object Dictionary, see @ref OD_get_value */
 643:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_i64(const OD_entry_t *entry, uint8_t subIndex,
 644:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                int64_t *val, bool_t odOrig)
 645:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 646:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 647:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 648:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 649:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get uint8_t variable from Object Dictionary, see @ref OD_get_value */
 650:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_u8(const OD_entry_t *entry, uint8_t subIndex,
 651:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                               uint8_t *val, bool_t odOrig)
 652:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 653:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 654:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 655:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 656:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get uint16_t variable from Object Dictionary, see @ref OD_get_value */
 657:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_u16(const OD_entry_t *entry, uint8_t subIndex,
 658:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                uint16_t *val, bool_t odOrig)
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 29


 659:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 660:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 661:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 662:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 663:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get uint32_t variable from Object Dictionary, see @ref OD_get_value */
 664:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_u32(const OD_entry_t *entry, uint8_t subIndex,
 665:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                uint32_t *val, bool_t odOrig)
 666:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 667:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 668:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 669:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 670:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get uint64_t variable from Object Dictionary, see @ref OD_get_value */
 671:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_u64(const OD_entry_t *entry, uint8_t subIndex,
 672:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                uint64_t *val, bool_t odOrig)
 673:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 674:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 675:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 676:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 677:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get float32_t variable from Object Dictionary, see @ref OD_get_value */
 678:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_f32(const OD_entry_t *entry, uint8_t subIndex,
 679:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                float32_t *val, bool_t odOrig)
 680:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 681:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 682:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 683:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 684:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Get float64_t variable from Object Dictionary, see @ref OD_get_value */
 685:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_get_f64(const OD_entry_t *entry, uint8_t subIndex,
 686:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                float64_t *val, bool_t odOrig)
 687:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 688:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_get_value(entry, subIndex, val, sizeof(*val), odOrig);
 689:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 690:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 691:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /**
 692:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * Set variable in Object Dictionary
 693:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 694:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param entry OD entry returned by @ref OD_find().
 695:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param subIndex Sub-index of the variable from the OD object.
 696:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param val Pointer to value to write.
 697:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param len Size of value to write.
 698:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @param odOrig If true, then potential IO extension on entry will be
 699:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * ignored and data in the original OD location will be written.
 700:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  *
 701:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * @return Value from @ref ODR_t, "ODR_OK" in case of success. Error, if
 702:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * variable does not exist in object dictionary or it does not have the correct
 703:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  * length or other reason.
 704:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****  */
 705:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** ODR_t OD_set_value(const OD_entry_t *entry, uint8_t subIndex, void *val,
 706:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                    OD_size_t len, bool_t odOrig);
 707:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 708:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Set int8_t variable in Object Dictionary, see @ref OD_set_value */
 709:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_set_i8(const OD_entry_t *entry, uint8_t subIndex,
 710:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                               int8_t val, bool_t odOrig)
 711:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 712:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_set_value(entry, subIndex, &val, sizeof(val), odOrig);
 713:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 714:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 715:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Set int16_t variable in Object Dictionary, see @ref OD_set_value */
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 30


 716:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_set_i16(const OD_entry_t *entry, uint8_t subIndex,
 717:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                int16_t val, bool_t odOrig)
 718:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 719:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_set_value(entry, subIndex, &val, sizeof(val), odOrig);
 720:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 721:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 722:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Set int32_t variable in Object Dictionary, see @ref OD_set_value */
 723:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_set_i32(const OD_entry_t *entry, uint8_t subIndex,
 724:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                int32_t val, bool_t odOrig)
 725:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 726:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_set_value(entry, subIndex, &val, sizeof(val), odOrig);
 727:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 728:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 729:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Set int32_t variable in Object Dictionary, see @ref OD_set_value */
 730:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_set_i64(const OD_entry_t *entry, uint8_t subIndex,
 731:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                int64_t val, bool_t odOrig)
 732:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 733:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_set_value(entry, subIndex, &val, sizeof(val), odOrig);
 734:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 735:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 736:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Set uint8_t variable in Object Dictionary, see @ref OD_set_value */
 737:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_set_u8(const OD_entry_t *entry, uint8_t subIndex,
 738:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                               uint8_t val, bool_t odOrig)
 739:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_set_value(entry, subIndex, &val, sizeof(val), odOrig);
 741:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 742:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** 
 743:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** /** Set uint16_t variable in Object Dictionary, see @ref OD_set_value */
 744:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** static inline ODR_t OD_set_u16(const OD_entry_t *entry, uint8_t subIndex,
 556              		.loc 2 744 21 is_stmt 1 view .LVU98
 557              	.LBB11:
 745:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                                uint16_t val, bool_t odOrig)
 746:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** {
 747:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****     return OD_set_value(entry, subIndex, &val, sizeof(val), odOrig);
 558              		.loc 2 747 5 view .LVU99
 559              		.loc 2 747 12 is_stmt 0 view .LVU100
 560 0022 0024     		movs	r4, #0
 561 0024 0094     		str	r4, [sp]
 562 0026 0223     		movs	r3, #2
 563              	.LVL37:
 564              		.loc 2 747 12 view .LVU101
 565 0028 0DF10E02 		add	r2, sp, #14
 566              	.LVL38:
 567              		.loc 2 747 12 view .LVU102
 568 002c 2146     		mov	r1, r4
 569 002e FFF7FEFF 		bl	OD_set_value
 570              	.LVL39:
 571              		.loc 2 747 12 view .LVU103
 572              	.LBE11:
 573              	.LBE10:
 336:Core/Src/freertos.c ****   OD_set_u8(OD_find(OD, 0x6003), 0x000, OD_PERSIST_COMM.x6003_status, false);
 574              		.loc 1 336 3 is_stmt 1 view .LVU104
 575              		.loc 1 336 13 is_stmt 0 view .LVU105
 576 0032 46F20301 		movw	r1, #24579
 577 0036 3068     		ldr	r0, [r6]
 578 0038 FFF7FEFF 		bl	OD_find
 579              	.LVL40:
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 31


 580              		.loc 1 336 3 view .LVU106
 581 003c 95F8CE30 		ldrb	r3, [r5, #206]	@ zero_extendqisi2
 582              	.LVL41:
 583              		.loc 1 336 3 view .LVU107
 584 0040 8DF80E30 		strb	r3, [sp, #14]
 585              	.LVL42:
 586              	.LBB12:
 587              	.LBI12:
 737:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                               uint8_t val, bool_t odOrig)
 588              		.loc 2 737 21 is_stmt 1 view .LVU108
 589              	.LBB13:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 590              		.loc 2 740 5 view .LVU109
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 591              		.loc 2 740 12 is_stmt 0 view .LVU110
 592 0044 0094     		str	r4, [sp]
 593 0046 0123     		movs	r3, #1
 594              	.LVL43:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 595              		.loc 2 740 12 view .LVU111
 596 0048 0DF10E02 		add	r2, sp, #14
 597              	.LVL44:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 598              		.loc 2 740 12 view .LVU112
 599 004c 2146     		mov	r1, r4
 600 004e FFF7FEFF 		bl	OD_set_value
 601              	.LVL45:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 602              		.loc 2 740 12 view .LVU113
 603              	.LBE13:
 604              	.LBE12:
 337:Core/Src/freertos.c ****   OD_set_u8(OD_find(OD, 0x6005), 0x000, OD_PERSIST_COMM.x6005_current_CW_CCW, false);
 605              		.loc 1 337 3 is_stmt 1 view .LVU114
 606              		.loc 1 337 13 is_stmt 0 view .LVU115
 607 0052 46F20501 		movw	r1, #24581
 608 0056 3068     		ldr	r0, [r6]
 609 0058 FFF7FEFF 		bl	OD_find
 610              	.LVL46:
 611              		.loc 1 337 3 view .LVU116
 612 005c 95F8D030 		ldrb	r3, [r5, #208]	@ zero_extendqisi2
 613              	.LVL47:
 614              		.loc 1 337 3 view .LVU117
 615 0060 8DF80E30 		strb	r3, [sp, #14]
 616              	.LVL48:
 617              	.LBB14:
 618              	.LBI14:
 737:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h ****                               uint8_t val, bool_t odOrig)
 619              		.loc 2 737 21 is_stmt 1 view .LVU118
 620              	.LBB15:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 621              		.loc 2 740 5 view .LVU119
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 622              		.loc 2 740 12 is_stmt 0 view .LVU120
 623 0064 0094     		str	r4, [sp]
 624 0066 0123     		movs	r3, #1
 625              	.LVL49:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 32


 626              		.loc 2 740 12 view .LVU121
 627 0068 0DF10E02 		add	r2, sp, #14
 628              	.LVL50:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 629              		.loc 2 740 12 view .LVU122
 630 006c 2146     		mov	r1, r4
 631 006e FFF7FEFF 		bl	OD_set_value
 632              	.LVL51:
 740:Middlewares/Third_Party/CANopenNode/301/CO_ODinterface.h **** }
 633              		.loc 2 740 12 view .LVU123
 634              	.LBE15:
 635              	.LBE14:
 338:Core/Src/freertos.c ****   CO_TPDOsendRequest(&canopenNodeSTM32->canOpenStack->TPDO[0]);
 636              		.loc 1 338 3 is_stmt 1 view .LVU124
 637              		.loc 1 338 39 is_stmt 0 view .LVU125
 638 0072 074B     		ldr	r3, .L43+8
 639 0074 1B68     		ldr	r3, [r3]
 640 0076 5B69     		ldr	r3, [r3, #20]
 641              		.loc 1 338 3 view .LVU126
 642 0078 5B6B     		ldr	r3, [r3, #52]
 643              	.LVL52:
 644              	.LBB16:
 645              	.LBI16:
 646              		.file 3 "Middlewares/Third_Party/CANopenNode/301/CO_PDO.h"
   1:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
   2:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * CANopen Process Data Object protocol.
   3:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
   4:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @file        CO_PDO.h
   5:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @ingroup     CO_PDO
   6:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @author      Janez Paternoster
   7:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @copyright   2021 Janez Paternoster
   8:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
   9:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * This file is part of CANopenNode, an opensource CANopen Stack.
  10:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Project home page is <https://github.com/CANopenNode/CANopenNode>.
  11:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * For more information on CANopen see <http://www.can-cia.org/>.
  12:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  13:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Licensed under the Apache License, Version 2.0 (the "License");
  14:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * you may not use this file except in compliance with the License.
  15:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * You may obtain a copy of the License at
  16:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  17:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *     http://www.apache.org/licenses/LICENSE-2.0
  18:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  19:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Unless required by applicable law or agreed to in writing, software
  20:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * distributed under the License is distributed on an "AS IS" BASIS,
  21:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * See the License for the specific language governing permissions and
  23:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * limitations under the License.
  24:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
  25:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
  26:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifndef CO_PDO_H
  27:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_PDO_H
  28:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
  29:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #include "301/CO_ODinterface.h"
  30:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #include "301/CO_Emergency.h"
  31:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #include "301/CO_SYNC.h"
  32:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
  33:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /* default configuration, see CO_config.h */
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 33


  34:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifndef CO_CONFIG_PDO
  35:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_CONFIG_PDO (CO_CONFIG_RPDO_ENABLE | \
  36:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_TPDO_ENABLE | \
  37:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_RPDO_TIMERS_ENABLE | \
  38:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_TPDO_TIMERS_ENABLE | \
  39:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_PDO_SYNC_ENABLE | \
  40:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_PDO_OD_IO_ACCESS | \
  41:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_GLOBAL_RT_FLAG_CALLBACK_PRE | \
  42:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_GLOBAL_FLAG_TIMERNEXT | \
  43:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                        CO_CONFIG_GLOBAL_FLAG_OD_DYNAMIC)
  44:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
  45:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
  46:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & (CO_CONFIG_RPDO_ENABLE | CO_CONFIG_TPDO_ENABLE)) || defined CO_DOXYGEN
  47:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
  48:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifdef __cplusplus
  49:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** extern "C" {
  50:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
  51:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
  52:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
  53:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @defgroup CO_PDO PDO
  54:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * CANopen Process Data Object protocol.
  55:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  56:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @ingroup CO_CANopen_301
  57:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @{
  58:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Process data objects are used for real-time data transfer with no protocol
  59:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * overhead.
  60:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  61:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * TPDO with specific identifier is transmitted by one device and recieved by
  62:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * zero or more devices as RPDO. PDO communication parameters(COB-ID,
  63:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * transmission type, etc.) are in the Object Dictionary at index 0x1400+ and
  64:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * 0x1800+. PDO mapping parameters (size and contents of the PDO) are in the
  65:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Object Dictionary at index 0x1600+ and 0x1A00+.
  66:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  67:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Features of the PDO as implemented in CANopenNode:
  68:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *  - Dynamic PDO mapping.
  69:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *  - Map granularity of one byte.
  70:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *  - Data from OD variables are accessed via @ref OD_IO_t read()/write()
  71:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    functions, which gives a great usefulness to the application.
  72:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *  - For systems with very low memory and processing capabilities there is a
  73:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    simplified @ref CO_CONFIG_PDO option, where instead of read()/write()
  74:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    access, PDO data are copied directly to/from memory locations of
  75:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    OD variables.
  76:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *  - After RPDO is received from CAN bus, its data are copied to internal
  77:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    buffer (inside fast CAN receive interrupt). Function CO_RPDO_process()
  78:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    (called by application) copies data to the mapped objects in the Object
  79:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    Dictionary. Synchronous RPDOs are processed AFTER reception of the next
  80:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    SYNC message.
  81:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *  - Function CO_TPDO_process() (called by application) sends TPDO when
  82:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    necessary. There are different transmission types possible, controlled by:
  83:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    SYNC message, event timer, @ref CO_TPDOsendRequest() by application or
  84:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    @ref OD_requestTPDO(), where application can request TPDO for OD
  85:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    variable mapped to any of them. In later case application may, for
  86:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    example, monitor change of state of the OD variable and indicate TPDO
  87:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *    request on it.
  88:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  89:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @anchor CO_PDO_CAN_ID
  90:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * ### CAN identifiers for PDO
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 34


  91:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
  92:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Each PDO can be configured with any valid 11-bit CAN identifier. Lower
  93:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * numbers have higher priorities on CAN bus. As a general rule, each CAN
  94:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * message is identified with own CAN-ID, which must be unique and produced by
  95:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * single source. The same is with PDO objects: Any TPDO produced on the CANopen
  96:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * network must have unique CAN-ID and there can be zero to many RPDOs (from
  97:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * different devices) configured to match the CAN-ID of the TPDO of interest.
  98:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
  99:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * CANopen standard provides pre-defined connection sets for four RPDOs and four
 100:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * TPDOs on each device with specific 7-bit Node-ID. These are default values
 101:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * and are usable in configuration, where CANopen network contains a master
 102:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * device, which directly communicates with many slaves. In de-centralized
 103:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * systems, where devices operate without a master, it makes sense to configure
 104:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * CAN-IDs of the RPDOs to the non-default values.
 105:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 106:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Default CAN identifiers for first four TPDOs on device with specific CANopen
 107:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Node-Id are: 0x180+NodeId, 0x280+NodeId, 0x380+NodeId and 0x480+NodeId.
 108:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 109:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Default CAN identifiers for first four RPDOs on device with specific CANopen
 110:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Node-Id are: 0x200+NodeId, 0x300+NodeId, 0x400+NodeId and 0x500+NodeId.
 111:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 112:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * CANopenNode handles default (pre-defined) CAN-IDs. If it is detected, that
 113:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * PDO is configured with default CAN-ID (when writing to OD variable PDO
 114:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * communication parameter, COB-ID), then COB-ID is stored without Node-Id to
 115:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * the Object Dictionary. If Node-ID is changed, then COB-ID will always contain
 116:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * correct default CAN-ID (default CAN-ID + Node-ID). If PDO is configured with
 117:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * non-default CAN-ID, then it will be stored to the Object Dictionary as is.
 118:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 119:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * If configuration CO_CONFIG_FLAG_OD_DYNAMIC is enabled in @ref CO_CONFIG_PDO,
 120:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * then PDOs can be configured dynamically, also in NMT operational state.
 121:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Otherwise PDOs are configured only in reset communication section and also
 122:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * default CAN-IDs are always stored to OD as is, no default node-id is handled.
 123:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 124:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Configure PDO by writing to the OD variables in the following procedure:
 125:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * - Disable the PDO by setting bit-31 to 1 in PDO communication parameter,
 126:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *   COB-ID
 127:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * - Node-Id can be configured only when PDO is disabled.
 128:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * - Disable mapping by setting PDO mapping parameter, sub index 0 to 0
 129:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * - Configure mapping
 130:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * - Enable mapping by setting PDO mapping param, sub 0 to number of mapped
 131:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *   objects
 132:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * - Enable the PDO by setting bit-31 to 0 in PDO communication parameter,
 133:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *   COB-ID
 134:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 135:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 136:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /** Maximum size of PDO message, 8 for standard CAN */
 137:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifndef CO_PDO_MAX_SIZE
 138:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_PDO_MAX_SIZE 8
 139:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 140:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 141:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /** Maximum number of entries, which can be mapped to PDO, 8 for standard CAN,
 142:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * may be less to preserve RAM usage */
 143:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifndef CO_PDO_MAX_MAPPED_ENTRIES
 144:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_PDO_MAX_MAPPED_ENTRIES 8
 145:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 146:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 147:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /** Number of CANopen RPDO objects, which uses default CAN indentifiers.
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 35


 148:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * By default first four RPDOs have pre-defined CAN identifiers, which depends
 149:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * on node-id. This constant may be set to 0 to disable functionality or set
 150:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * to any other value. For example, if there are several logical devices inside
 151:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * single CANopen device, then more than four RPDOs may have pre-defined CAN
 152:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * identifiers. In that case RPDO5 has CAN_ID=0x200+NodeId+1, RPDO6 has
 153:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * CAN_ID=0x300+NodeId+1, RPDO9 has CAN_ID=0x200+NodeId+2 and so on. */
 154:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifndef CO_RPDO_DEFAULT_CANID_COUNT
 155:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_RPDO_DEFAULT_CANID_COUNT 4
 156:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 157:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 158:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /** Number of CANopen TPDO objects, which uses default CAN indentifiers.
 159:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * If value is more than four, then pre-defined pre-defined CAN identifiers are:
 160:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * TPDO5 has CAN_ID=0x180+NodeId+1, TPDO6 has CAN_ID=0x280+NodeId+1,
 161:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * TPDO9 has CAN_ID=0x180+NodeId+2 and so on.
 162:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * For description see @ref CO_RPDO_DEFAULT_CANID_COUNT. */
 163:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifndef CO_TPDO_DEFAULT_CANID_COUNT
 164:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_TPDO_DEFAULT_CANID_COUNT 4
 165:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 166:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 167:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #ifndef CO_PDO_OWN_TYPES
 168:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /** Variable of type CO_PDO_size_t contains data length in bytes of PDO */
 169:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** typedef uint8_t CO_PDO_size_t;
 170:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 171:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 172:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 173:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * PDO transmission Types
 174:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 175:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** typedef enum {
 176:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_TRANSM_TYPE_SYNC_ACYCLIC = 0, /**< synchronous (acyclic) */
 177:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_TRANSM_TYPE_SYNC_1 = 1, /**< synchronous (cyclic every sync) */
 178:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_TRANSM_TYPE_SYNC_240 = 0xF0, /**< synchronous (cyclic every 240-th
 179:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     sync) */
 180:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_TRANSM_TYPE_SYNC_EVENT_LO = 0xFE, /**< event-driven, lower value
 181:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     (manufacturer specific),  */
 182:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_TRANSM_TYPE_SYNC_EVENT_HI = 0xFF /**< event-driven, higher value
 183:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     (device profile and application profile specific) */
 184:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** } CO_PDO_transmissionTypes_t;
 185:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 186:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 187:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * PDO object, common properties
 188:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 189:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** typedef struct {
 190:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_xPDO_init() */
 191:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_EM_t *em;
 192:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_xPDO_init() */
 193:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_CANmodule_t *CANdev;
 194:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** True, if PDO is enabled and valid */
 195:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     bool_t valid;
 196:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Data length of the received PDO message. Calculated from mapping */
 197:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_size_t dataLength;
 198:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Number of mapped objects in PDO */
 199:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t mappedObjectsCount;
 200:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_PDO_OD_IO_ACCESS) || defined CO_DOXYGEN
 201:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Object dictionary interface for all mapped entries. OD_IO.dataOffset has
 202:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****      * special usage with PDO. It stores information about mappedLength of
 203:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****      * the variable. mappedLength can be less or equal to the OD_IO.dataLength.
 204:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****      * mappedLength greater than OD_IO.dataLength indicates erroneous mapping.
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 36


 205:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****      * OD_IO.dataOffset is set to 0 before read/write function call and after
 206:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****      * the call OD_IO.dataOffset is set back to mappedLength. */
 207:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     OD_IO_t OD_IO[CO_PDO_MAX_MAPPED_ENTRIES];
 208:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****   #if OD_FLAGS_PDO_SIZE > 0
 209:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Pointer to byte, which contains PDO flag bit from @ref OD_extension_t */
 210:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t *flagPDObyte[CO_PDO_MAX_MAPPED_ENTRIES];
 211:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Bitmask for the flagPDObyte */
 212:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t flagPDObitmask[CO_PDO_MAX_MAPPED_ENTRIES];
 213:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****   #endif
 214:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #else
 215:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /* Pointers to data objects inside OD, where PDO will be copied */
 216:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t *mapPointer[CO_PDO_MAX_SIZE];
 217:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****   #if OD_FLAGS_PDO_SIZE > 0
 218:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t *flagPDObyte[CO_PDO_MAX_SIZE];
 219:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t flagPDObitmask[CO_PDO_MAX_SIZE];
 220:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****   #endif
 221:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 222:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_FLAG_OD_DYNAMIC) || defined CO_DOXYGEN
 223:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** True for RPDO, false for TPDO */
 224:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     bool_t isRPDO;
 225:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_xPDO_init() */
 226:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     OD_t *OD;
 227:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_xPDO_init() */
 228:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint16_t CANdevIdx;
 229:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_xPDO_init() */
 230:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint16_t preDefinedCanId;
 231:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Currently configured CAN identifier */
 232:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint16_t configuredCanId;
 233:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Extension for OD object */
 234:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     OD_extension_t OD_communicationParam_ext;
 235:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Extension for OD object */
 236:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     OD_extension_t OD_mappingParam_extension;
 237:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 238:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** } CO_PDO_common_t;
 239:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 240:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 241:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /*******************************************************************************
 242:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *      R P D O
 243:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  ******************************************************************************/
 244:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_RPDO_ENABLE) || defined CO_DOXYGEN
 245:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 246:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Number of buffers for received CAN message for RPDO
 247:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 248:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_PDO_SYNC_ENABLE) || defined CO_DOXYGEN
 249:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_RPDO_CAN_BUFFERS_COUNT 2
 250:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #else
 251:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #define CO_RPDO_CAN_BUFFERS_COUNT 1
 252:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 253:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 254:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 255:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 256:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * RPDO object.
 257:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 258:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** typedef struct {
 259:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** PDO common properties, must be first element in this object */
 260:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_common_t PDO_common;
 261:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Variable indicates, if new PDO message received from CAN bus. */
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 37


 262:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     volatile void *CANrxNew[CO_RPDO_CAN_BUFFERS_COUNT];
 263:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** CO_PDO_MAX_SIZE data bytes of the received message. */
 264:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t CANrxData[CO_RPDO_CAN_BUFFERS_COUNT][CO_PDO_MAX_SIZE];
 265:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Indication of RPDO length errors, use with CO_PDO_receiveErrors_t */
 266:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t receiveError;
 267:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_PDO_SYNC_ENABLE) || defined CO_DOXYGEN
 268:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_RPDO_init() */
 269:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_SYNC_t *SYNC;
 270:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** True if transmissionType <= 240 */
 271:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     bool_t synchronous;
 272:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 273:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_RPDO_TIMERS_ENABLE) || defined CO_DOXYGEN
 274:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Maximum timeout time between received PDOs in microseconds. Configurable
 275:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****      * by OD variable RPDO communication parameter, event-timer. */
 276:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint32_t timeoutTime_us;
 277:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Timeout timer variable in microseconds */
 278:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint32_t timeoutTimer;
 279:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 280:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_FLAG_CALLBACK_PRE) || defined CO_DOXYGEN
 281:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_RPDO_initCallbackPre() or NULL */
 282:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     void (*pFunctSignalPre)(void *object);
 283:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_RPDO_initCallbackPre() or NULL */
 284:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     void *functSignalObjectPre;
 285:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 286:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** } CO_RPDO_t;
 287:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 288:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 289:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 290:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Initialize RPDO object.
 291:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 292:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Function must be called in the end of the communication reset section, after
 293:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * all application initialization. Otherwise mapping to application OD variables
 294:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * will not be correct.
 295:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 296:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param RPDO This object will be initialized.
 297:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param OD Object Dictionary.
 298:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param em Emergency object.
 299:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param SYNC SYNC object, may be NULL.
 300:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param preDefinedCanId CAN identifier from pre-defined connection set,
 301:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * including node-id for first four PDOs, or 0 otherwise, see @ref CO_PDO_CAN_ID
 302:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param OD_14xx_RPDOCommPar OD entry for 0x1400+ - "RPDO communication
 303:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * parameter", entry is required.
 304:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param OD_16xx_RPDOMapPar OD entry for 0x1600+ - "RPDO mapping parameter",
 305:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * entry is required.
 306:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param CANdevRx CAN device for PDO reception.
 307:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param CANdevRxIdx Index of receive buffer in the above CAN device.
 308:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param [out] errInfo Additional information in case of error, may be NULL.
 309:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 310:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @return #CO_ReturnError_t CO_ERROR_NO on success.
 311:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 312:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** CO_ReturnError_t CO_RPDO_init(CO_RPDO_t *RPDO,
 313:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               OD_t *OD,
 314:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               CO_EM_t *em,
 315:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_PDO_SYNC_ENABLE) || defined CO_DOXYGEN
 316:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               CO_SYNC_t *SYNC,
 317:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 318:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               uint16_t preDefinedCanId,
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 38


 319:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               OD_entry_t *OD_14xx_RPDOCommPar,
 320:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               OD_entry_t *OD_16xx_RPDOMapPar,
 321:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               CO_CANmodule_t *CANdevRx,
 322:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               uint16_t CANdevRxIdx,
 323:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               uint32_t *errInfo);
 324:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 325:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 326:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_FLAG_CALLBACK_PRE) || defined CO_DOXYGEN
 327:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 328:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Initialize RPDO callback function.
 329:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 330:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Function initializes optional callback function, which should immediately
 331:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * start processing of CO_RPDO_process() function.
 332:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Callback is called after RPDO message is received from the CAN bus.
 333:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 334:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param RPDO This object.
 335:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param object Pointer to object, which will be passed to pFunctSignalPre().
 336:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param pFunctSignalPre Pointer to the callback function. Not called if NULL.
 337:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 338:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** void CO_RPDO_initCallbackPre(CO_RPDO_t *RPDO,
 339:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                              void *object,
 340:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                              void (*pFunctSignalPre)(void *object));
 341:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 342:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 343:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 344:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 345:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Process received PDO messages.
 346:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 347:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Function must be called cyclically in any NMT state. It copies data from RPDO
 348:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * to Object Dictionary variables if: new PDO receives and PDO is valid and NMT
 349:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * operating state is operational. Synchronous RPDOs are processed after next
 350:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * SYNC message.
 351:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 352:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param RPDO This object.
 353:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param timeDifference_us Time difference from previous function call.
 354:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param [out] timerNext_us info to OS - see CO_process().
 355:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param NMTisOperational True if this node is in NMT_OPERATIONAL state.
 356:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param syncWas True, if CANopen SYNC message was just received or
 357:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * transmitted.
 358:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 359:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** void CO_RPDO_process(CO_RPDO_t *RPDO,
 360:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_RPDO_TIMERS_ENABLE) || defined CO_DOXYGEN
 361:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                      uint32_t timeDifference_us,
 362:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                      uint32_t *timerNext_us,
 363:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 364:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                      bool_t NMTisOperational,
 365:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                      bool_t syncWas);
 366:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif /* (CO_CONFIG_PDO) & CO_CONFIG_RPDO_ENABLE */
 367:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 368:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 369:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /*******************************************************************************
 370:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *      T P D O
 371:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  ******************************************************************************/
 372:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_TPDO_ENABLE) || defined CO_DOXYGEN
 373:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 374:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * TPDO object.
 375:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 39


 376:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** typedef struct {
 377:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** PDO common properties, must be first element in this object */
 378:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_PDO_common_t PDO_common;
 379:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** CAN transmit buffer inside CANdev */
 380:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_CANtx_t *CANtxBuff;
 381:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Copy of the variable from object dictionary */
 382:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t transmissionType;
 383:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** If this flag is set and TPDO is event driven (transmission type is 0,
 384:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****      * 254 or 255), then PDO will be sent by CO_TPDO_process(). */
 385:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     bool_t sendRequest;
 386:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_PDO_SYNC_ENABLE) || defined CO_DOXYGEN
 387:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** From CO_TPDO_init() */
 388:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     CO_SYNC_t *SYNC;
 389:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Copy of the variable from object dictionary */
 390:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t syncStartValue;
 391:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** SYNC counter used for PDO sending */
 392:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint8_t syncCounter;
 393:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 394:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_TPDO_TIMERS_ENABLE) || defined CO_DOXYGEN
 395:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Inhibit time from object dictionary translated to microseconds */
 396:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint32_t inhibitTime_us;
 397:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Event time from object dictionary translated to microseconds */
 398:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint32_t eventTime_us;
 399:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Inhibit timer variable in microseconds */
 400:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint32_t inhibitTimer;
 401:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     /** Event timer variable in microseconds */
 402:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     uint32_t eventTimer;
 403:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 404:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** } CO_TPDO_t;
 405:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 406:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 407:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 408:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Initialize TPDO object.
 409:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 410:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Function must be called in the end of the communication reset section, after
 411:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * all application initialization. Otherwise mapping to application OD variables
 412:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * will not be correct.
 413:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 414:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param TPDO This object will be initialized.
 415:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param OD Object Dictionary.
 416:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param em Emergency object.
 417:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param SYNC SYNC object, may be NULL.
 418:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param preDefinedCanId CAN identifier from pre-defined connection set,
 419:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * including node-id for first four PDOs, or 0 otherwise, see @ref CO_PDO_CAN_ID
 420:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param OD_18xx_TPDOCommPar OD entry for 0x1800+ - "TPDO communication
 421:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * parameter", entry is required.
 422:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param OD_1Axx_TPDOMapPar OD entry for 0x1A00+ - "TPDO mapping parameter",
 423:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * entry is required.
 424:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param CANdevTx CAN device used for PDO transmission.
 425:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param CANdevTxIdx Index of transmit buffer in the above CAN device.
 426:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param [out] errInfo Additional information in case of error, may be NULL.
 427:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 428:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @return #CO_ReturnError_t CO_ERROR_NO on success.
 429:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 430:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** CO_ReturnError_t CO_TPDO_init(CO_TPDO_t *TPDO,
 431:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               OD_t *OD,
 432:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               CO_EM_t *em,
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 40


 433:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #if ((CO_CONFIG_PDO) & CO_CONFIG_PDO_SYNC_ENABLE) || defined CO_DOXYGEN
 434:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               CO_SYNC_t *SYNC,
 435:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** #endif
 436:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               uint16_t preDefinedCanId,
 437:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               OD_entry_t *OD_18xx_TPDOCommPar,
 438:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               OD_entry_t *OD_1Axx_TPDOMapPar,
 439:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               CO_CANmodule_t *CANdevTx,
 440:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               uint16_t CANdevTxIdx,
 441:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****                               uint32_t *errInfo);
 442:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 443:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** 
 444:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** /**
 445:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * Request transmission of TPDO message.
 446:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 447:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * If TPDO transmission type is 0, 254 or 255, then TPDO will be sent by
 448:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @ref CO_TPDO_process() after inhibit timer expires. See also
 449:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @ref OD_requestTPDO() and @ref OD_TPDOtransmitted().
 450:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  *
 451:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  * @param TPDO TPDO object.
 452:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****  */
 453:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h **** static inline void CO_TPDOsendRequest(CO_TPDO_t *TPDO) {
 647              		.loc 3 453 20 is_stmt 1 view .LVU127
 648              	.LBB17:
 454:Middlewares/Third_Party/CANopenNode/301/CO_PDO.h ****     if (TPDO != NULL) TPDO->sendRequest = true;
 649              		.loc 3 454 5 view .LVU128
 650              		.loc 3 454 8 is_stmt 0 view .LVU129
 651 007a 13B1     		cbz	r3, .L40
 652              		.loc 3 454 23 is_stmt 1 view .LVU130
 653              		.loc 3 454 41 is_stmt 0 view .LVU131
 654 007c 0122     		movs	r2, #1
 655 007e C3F85021 		str	r2, [r3, #336]
 656              	.LVL53:
 657              	.L40:
 658              		.loc 3 454 41 view .LVU132
 659              	.LBE17:
 660              	.LBE16:
 339:Core/Src/freertos.c **** }
 661              		.loc 1 339 1 view .LVU133
 662 0082 04B0     		add	sp, sp, #16
 663              	.LCFI9:
 664              		.cfi_def_cfa_offset 16
 665              		@ sp needed
 666 0084 70BD     		pop	{r4, r5, r6, pc}
 667              	.L44:
 668 0086 00BF     		.align	2
 669              	.L43:
 670 0088 00000000 		.word	OD_PERSIST_COMM
 671 008c 00000000 		.word	OD
 672 0090 00000000 		.word	canopenNodeSTM32
 673              		.cfi_endproc
 674              	.LFE177:
 676              		.section	.text.canopen_task,"ax",%progbits
 677              		.align	1
 678              		.global	canopen_task
 679              		.syntax unified
 680              		.thumb
 681              		.thumb_func
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 41


 683              	canopen_task:
 684              	.LVL54:
 685              	.LFB170:
 194:Core/Src/freertos.c ****   /* USER CODE BEGIN canopen_task */
 686              		.loc 1 194 1 is_stmt 1 view -0
 687              		.cfi_startproc
 688              		@ args = 0, pretend = 0, frame = 24
 689              		@ frame_needed = 0, uses_anonymous_args = 0
 194:Core/Src/freertos.c ****   /* USER CODE BEGIN canopen_task */
 690              		.loc 1 194 1 is_stmt 0 view .LVU135
 691 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 692              	.LCFI10:
 693              		.cfi_def_cfa_offset 20
 694              		.cfi_offset 4, -20
 695              		.cfi_offset 5, -16
 696              		.cfi_offset 6, -12
 697              		.cfi_offset 7, -8
 698              		.cfi_offset 14, -4
 699 0002 87B0     		sub	sp, sp, #28
 700              	.LCFI11:
 701              		.cfi_def_cfa_offset 48
 196:Core/Src/freertos.c ****   canOpenNodeSTM32.CANHandle = &hcan;
 702              		.loc 1 196 3 is_stmt 1 view .LVU136
 197:Core/Src/freertos.c ****   canOpenNodeSTM32.HWInitFunction = MX_CAN_Init;
 703              		.loc 1 197 3 view .LVU137
 197:Core/Src/freertos.c ****   canOpenNodeSTM32.HWInitFunction = MX_CAN_Init;
 704              		.loc 1 197 30 is_stmt 0 view .LVU138
 705 0004 384B     		ldr	r3, .L58
 706 0006 0293     		str	r3, [sp, #8]
 198:Core/Src/freertos.c ****   canOpenNodeSTM32.timerHandle = &htim17;
 707              		.loc 1 198 3 is_stmt 1 view .LVU139
 198:Core/Src/freertos.c ****   canOpenNodeSTM32.timerHandle = &htim17;
 708              		.loc 1 198 35 is_stmt 0 view .LVU140
 709 0008 384B     		ldr	r3, .L58+4
 710 000a 0393     		str	r3, [sp, #12]
 199:Core/Src/freertos.c ****   canOpenNodeSTM32.desiredNodeID = 17;
 711              		.loc 1 199 3 is_stmt 1 view .LVU141
 199:Core/Src/freertos.c ****   canOpenNodeSTM32.desiredNodeID = 17;
 712              		.loc 1 199 32 is_stmt 0 view .LVU142
 713 000c 384B     		ldr	r3, .L58+8
 714 000e 0193     		str	r3, [sp, #4]
 200:Core/Src/freertos.c ****   canOpenNodeSTM32.baudrate = 125;
 715              		.loc 1 200 3 is_stmt 1 view .LVU143
 200:Core/Src/freertos.c ****   canOpenNodeSTM32.baudrate = 125;
 716              		.loc 1 200 34 is_stmt 0 view .LVU144
 717 0010 1123     		movs	r3, #17
 718 0012 8DF80030 		strb	r3, [sp]
 201:Core/Src/freertos.c ****   canopen_app_init(&canOpenNodeSTM32);
 719              		.loc 1 201 3 is_stmt 1 view .LVU145
 201:Core/Src/freertos.c ****   canopen_app_init(&canOpenNodeSTM32);
 720              		.loc 1 201 29 is_stmt 0 view .LVU146
 721 0016 7D23     		movs	r3, #125
 722 0018 8DF80230 		strb	r3, [sp, #2]
 202:Core/Src/freertos.c ****   int8_t pre_target_angle = OD_PERSIST_COMM.x6001_target_angle;
 723              		.loc 1 202 3 is_stmt 1 view .LVU147
 724 001c 6846     		mov	r0, sp
 725              	.LVL55:
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 42


 202:Core/Src/freertos.c ****   int8_t pre_target_angle = OD_PERSIST_COMM.x6001_target_angle;
 726              		.loc 1 202 3 is_stmt 0 view .LVU148
 727 001e FFF7FEFF 		bl	canopen_app_init
 728              	.LVL56:
 203:Core/Src/freertos.c ****   uint8_t pre_target_CW_CCW = OD_PERSIST_COMM.x6004_target_CW_CCW;
 729              		.loc 1 203 3 is_stmt 1 view .LVU149
 203:Core/Src/freertos.c ****   uint8_t pre_target_CW_CCW = OD_PERSIST_COMM.x6004_target_CW_CCW;
 730              		.loc 1 203 10 is_stmt 0 view .LVU150
 731 0022 344B     		ldr	r3, .L58+12
 732 0024 93F9CD60 		ldrsb	r6, [r3, #205]
 733              	.LVL57:
 204:Core/Src/freertos.c ****   db_target_angle = OD_PERSIST_COMM.x6001_target_angle;
 734              		.loc 1 204 3 is_stmt 1 view .LVU151
 204:Core/Src/freertos.c ****   db_target_angle = OD_PERSIST_COMM.x6001_target_angle;
 735              		.loc 1 204 11 is_stmt 0 view .LVU152
 736 0028 93F8CF70 		ldrb	r7, [r3, #207]	@ zero_extendqisi2
 737              	.LVL58:
 205:Core/Src/freertos.c ****   /* Infinite loop */
 738              		.loc 1 205 3 is_stmt 1 view .LVU153
 205:Core/Src/freertos.c ****   /* Infinite loop */
 739              		.loc 1 205 19 is_stmt 0 view .LVU154
 740 002c 3046     		mov	r0, r6
 741 002e FFF7FEFF 		bl	__aeabi_i2d
 742              	.LVL59:
 743 0032 314B     		ldr	r3, .L58+16
 744 0034 C3E90001 		strd	r0, [r3]
 745 0038 24E0     		b	.L52
 746              	.L56:
 210:Core/Src/freertos.c ****     {
 747              		.loc 1 210 82 discriminator 1 view .LVU155
 748 003a 93F8CF30 		ldrb	r3, [r3, #207]	@ zero_extendqisi2
 210:Core/Src/freertos.c ****     {
 749              		.loc 1 210 64 discriminator 1 view .LVU156
 750 003e BB42     		cmp	r3, r7
 751 0040 27D1     		bne	.L46
 752 0042 1CE0     		b	.L47
 753              	.L57:
 215:Core/Src/freertos.c ****         TPDO_tarnsmit(6, 99);
 754              		.loc 1 215 9 is_stmt 1 view .LVU157
 215:Core/Src/freertos.c ****         TPDO_tarnsmit(6, 99);
 755              		.loc 1 215 25 is_stmt 0 view .LVU158
 756 0044 2C4B     		ldr	r3, .L58+16
 757 0046 0020     		movs	r0, #0
 758 0048 2C49     		ldr	r1, .L58+20
 759 004a C3E90001 		strd	r0, [r3]
 216:Core/Src/freertos.c ****       }
 760              		.loc 1 216 9 is_stmt 1 view .LVU159
 761 004e 6321     		movs	r1, #99
 762 0050 0620     		movs	r0, #6
 763 0052 FFF7FEFF 		bl	TPDO_tarnsmit
 764              	.LVL60:
 765 0056 0DE0     		b	.L49
 766              	.L50:
 222:Core/Src/freertos.c ****       {
 767              		.loc 1 222 12 view .LVU160
 222:Core/Src/freertos.c ****       {
 768              		.loc 1 222 15 is_stmt 0 view .LVU161
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 43


 769 0058 2828     		cmp	r0, #40
 770 005a 04DD     		ble	.L51
 222:Core/Src/freertos.c ****       {
 771              		.loc 1 222 74 discriminator 1 view .LVU162
 772 005c 254B     		ldr	r3, .L58+12
 773 005e 93F8CF30 		ldrb	r3, [r3, #207]	@ zero_extendqisi2
 222:Core/Src/freertos.c ****       {
 774              		.loc 1 222 56 discriminator 1 view .LVU163
 775 0062 012B     		cmp	r3, #1
 776 0064 2CD0     		beq	.L54
 777              	.L51:
 227:Core/Src/freertos.c ****       {
 778              		.loc 1 227 12 is_stmt 1 view .LVU164
 227:Core/Src/freertos.c ****       {
 779              		.loc 1 227 15 is_stmt 0 view .LVU165
 780 0066 2728     		cmp	r0, #39
 781 0068 04DC     		bgt	.L49
 227:Core/Src/freertos.c ****       {
 782              		.loc 1 227 74 discriminator 1 view .LVU166
 783 006a 224B     		ldr	r3, .L58+12
 784 006c 93F8CF30 		ldrb	r3, [r3, #207]	@ zero_extendqisi2
 227:Core/Src/freertos.c ****       {
 785              		.loc 1 227 56 discriminator 1 view .LVU167
 786 0070 012B     		cmp	r3, #1
 787 0072 2FD0     		beq	.L55
 788              	.L49:
 231:Core/Src/freertos.c ****       pre_target_CW_CCW = OD_PERSIST_COMM.x6004_target_CW_CCW;
 789              		.loc 1 231 7 is_stmt 1 view .LVU168
 231:Core/Src/freertos.c ****       pre_target_CW_CCW = OD_PERSIST_COMM.x6004_target_CW_CCW;
 790              		.loc 1 231 24 is_stmt 0 view .LVU169
 791 0074 1F4B     		ldr	r3, .L58+12
 792 0076 93F9CD60 		ldrsb	r6, [r3, #205]
 793              	.LVL61:
 232:Core/Src/freertos.c ****     }
 794              		.loc 1 232 7 is_stmt 1 view .LVU170
 232:Core/Src/freertos.c ****     }
 795              		.loc 1 232 25 is_stmt 0 view .LVU171
 796 007a 93F8CF70 		ldrb	r7, [r3, #207]	@ zero_extendqisi2
 797              	.LVL62:
 798              	.L47:
 234:Core/Src/freertos.c ****   }
 799              		.loc 1 234 5 is_stmt 1 view .LVU172
 800 007e 6420     		movs	r0, #100
 801 0080 FFF7FEFF 		bl	osDelay
 802              	.LVL63:
 207:Core/Src/freertos.c ****   {
 803              		.loc 1 207 9 view .LVU173
 804              	.L52:
 207:Core/Src/freertos.c ****   {
 805              		.loc 1 207 3 view .LVU174
 209:Core/Src/freertos.c ****     if (OD_PERSIST_COMM.x6001_target_angle != pre_target_angle || OD_PERSIST_COMM.x6004_target_CW_C
 806              		.loc 1 209 5 view .LVU175
 807 0084 FFF7FEFF 		bl	canopen_app_process
 808              	.LVL64:
 210:Core/Src/freertos.c ****     {
 809              		.loc 1 210 5 view .LVU176
 210:Core/Src/freertos.c ****     {
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 44


 810              		.loc 1 210 24 is_stmt 0 view .LVU177
 811 0088 1A4B     		ldr	r3, .L58+12
 812 008a 93F9CD00 		ldrsb	r0, [r3, #205]
 210:Core/Src/freertos.c ****     {
 813              		.loc 1 210 8 view .LVU178
 814 008e B042     		cmp	r0, r6
 815 0090 D3D0     		beq	.L56
 816              	.L46:
 212:Core/Src/freertos.c ****       if (OD_PERSIST_COMM.x6001_target_angle > 40 && OD_PERSIST_COMM.x6004_target_CW_CCW == 0)
 817              		.loc 1 212 7 is_stmt 1 view .LVU179
 212:Core/Src/freertos.c ****       if (OD_PERSIST_COMM.x6001_target_angle > 40 && OD_PERSIST_COMM.x6004_target_CW_CCW == 0)
 818              		.loc 1 212 24 is_stmt 0 view .LVU180
 819 0092 1B4B     		ldr	r3, .L58+24
 820 0094 0122     		movs	r2, #1
 821 0096 1A70     		strb	r2, [r3]
 213:Core/Src/freertos.c ****       {
 822              		.loc 1 213 7 is_stmt 1 view .LVU181
 213:Core/Src/freertos.c ****       {
 823              		.loc 1 213 10 is_stmt 0 view .LVU182
 824 0098 2828     		cmp	r0, #40
 825 009a 04DD     		ble	.L48
 213:Core/Src/freertos.c ****       {
 826              		.loc 1 213 69 discriminator 1 view .LVU183
 827 009c 154B     		ldr	r3, .L58+12
 828 009e 93F8CF30 		ldrb	r3, [r3, #207]	@ zero_extendqisi2
 213:Core/Src/freertos.c ****       {
 829              		.loc 1 213 51 discriminator 1 view .LVU184
 830 00a2 002B     		cmp	r3, #0
 831 00a4 CED0     		beq	.L57
 832              	.L48:
 218:Core/Src/freertos.c ****       {
 833              		.loc 1 218 12 is_stmt 1 view .LVU185
 218:Core/Src/freertos.c ****       {
 834              		.loc 1 218 15 is_stmt 0 view .LVU186
 835 00a6 2728     		cmp	r0, #39
 836 00a8 D6DC     		bgt	.L50
 218:Core/Src/freertos.c ****       {
 837              		.loc 1 218 74 discriminator 1 view .LVU187
 838 00aa 124B     		ldr	r3, .L58+12
 839 00ac 93F8CF30 		ldrb	r3, [r3, #207]	@ zero_extendqisi2
 218:Core/Src/freertos.c ****       {
 840              		.loc 1 218 56 discriminator 1 view .LVU188
 841 00b0 002B     		cmp	r3, #0
 842 00b2 D1D1     		bne	.L50
 220:Core/Src/freertos.c ****       }
 843              		.loc 1 220 9 is_stmt 1 view .LVU189
 220:Core/Src/freertos.c ****       }
 844              		.loc 1 220 27 is_stmt 0 view .LVU190
 845 00b4 FFF7FEFF 		bl	__aeabi_i2d
 846              	.LVL65:
 220:Core/Src/freertos.c ****       }
 847              		.loc 1 220 25 view .LVU191
 848 00b8 0F4B     		ldr	r3, .L58+16
 849 00ba C3E90001 		strd	r0, [r3]
 850 00be D9E7     		b	.L49
 851              	.L54:
 224:Core/Src/freertos.c ****         TPDO_tarnsmit(6, 99);
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 45


 852              		.loc 1 224 9 is_stmt 1 view .LVU192
 224:Core/Src/freertos.c ****         TPDO_tarnsmit(6, 99);
 853              		.loc 1 224 25 is_stmt 0 view .LVU193
 854 00c0 0D4B     		ldr	r3, .L58+16
 855 00c2 0020     		movs	r0, #0
 856 00c4 0F49     		ldr	r1, .L58+28
 857 00c6 C3E90001 		strd	r0, [r3]
 225:Core/Src/freertos.c ****       }
 858              		.loc 1 225 9 is_stmt 1 view .LVU194
 859 00ca 6321     		movs	r1, #99
 860 00cc 0620     		movs	r0, #6
 861 00ce FFF7FEFF 		bl	TPDO_tarnsmit
 862              	.LVL66:
 863 00d2 CFE7     		b	.L49
 864              	.L55:
 229:Core/Src/freertos.c ****       }
 865              		.loc 1 229 9 view .LVU195
 229:Core/Src/freertos.c ****       }
 866              		.loc 1 229 27 is_stmt 0 view .LVU196
 867 00d4 FFF7FEFF 		bl	__aeabi_i2d
 868              	.LVL67:
 229:Core/Src/freertos.c ****       }
 869              		.loc 1 229 70 view .LVU197
 870 00d8 0446     		mov	r4, r0
 871 00da 01F10045 		add	r5, r1, #-2147483648
 229:Core/Src/freertos.c ****       }
 872              		.loc 1 229 25 view .LVU198
 873 00de 064B     		ldr	r3, .L58+16
 874 00e0 C3E90045 		strd	r4, [r3]
 875 00e4 C6E7     		b	.L49
 876              	.L59:
 877 00e6 00BF     		.align	2
 878              	.L58:
 879 00e8 00000000 		.word	hcan
 880 00ec 00000000 		.word	MX_CAN_Init
 881 00f0 00000000 		.word	htim17
 882 00f4 00000000 		.word	OD_PERSIST_COMM
 883 00f8 00000000 		.word	.LANCHOR5
 884 00fc 00804140 		.word	1078034432
 885 0100 00000000 		.word	.LANCHOR14
 886 0104 000044C0 		.word	-1069285376
 887              		.cfi_endproc
 888              	.LFE170:
 890              		.global	__aeabi_dcmpgt
 891              		.section	.text.PID_protection,"ax",%progbits
 892              		.align	1
 893              		.global	PID_protection
 894              		.syntax unified
 895              		.thumb
 896              		.thumb_func
 898              	PID_protection:
 899              	.LFB172:
 271:Core/Src/freertos.c ****   if (current_angle > 40 || current_voltage < -40) // outof voltage range 4.4v ~ 1.6v
 900              		.loc 1 271 1 is_stmt 1 view -0
 901              		.cfi_startproc
 902              		@ args = 0, pretend = 0, frame = 0
 903              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 46


 904 0000 08B5     		push	{r3, lr}
 905              	.LCFI12:
 906              		.cfi_def_cfa_offset 8
 907              		.cfi_offset 3, -8
 908              		.cfi_offset 14, -4
 272:Core/Src/freertos.c ****   {
 909              		.loc 1 272 3 view .LVU200
 272:Core/Src/freertos.c ****   {
 910              		.loc 1 272 6 is_stmt 0 view .LVU201
 911 0002 0022     		movs	r2, #0
 912 0004 114B     		ldr	r3, .L67
 913 0006 1249     		ldr	r1, .L67+4
 914 0008 D1E90001 		ldrd	r0, [r1]
 915 000c FFF7FEFF 		bl	__aeabi_dcmpgt
 916              	.LVL68:
 917 0010 38B9     		cbnz	r0, .L61
 272:Core/Src/freertos.c ****   {
 918              		.loc 1 272 26 discriminator 1 view .LVU202
 919 0012 0022     		movs	r2, #0
 920 0014 0F4B     		ldr	r3, .L67+8
 921 0016 1049     		ldr	r1, .L67+12
 922 0018 D1E90001 		ldrd	r0, [r1]
 923 001c FFF7FEFF 		bl	__aeabi_dcmplt
 924              	.LVL69:
 925 0020 30B1     		cbz	r0, .L65
 926              	.L61:
 274:Core/Src/freertos.c ****     TPDO_tarnsmit(2, 99); // 2.reach limit
 927              		.loc 1 274 5 is_stmt 1 view .LVU203
 928 0022 FFF7FEFF 		bl	PID_Error_handler
 929              	.LVL70:
 275:Core/Src/freertos.c ****   }
 930              		.loc 1 275 5 view .LVU204
 931 0026 6321     		movs	r1, #99
 932 0028 0220     		movs	r0, #2
 933 002a FFF7FEFF 		bl	TPDO_tarnsmit
 934              	.LVL71:
 935              	.L60:
 293:Core/Src/freertos.c **** void PID_init(void)
 936              		.loc 1 293 1 is_stmt 0 view .LVU205
 937 002e 08BD     		pop	{r3, pc}
 938              	.L65:
 291:Core/Src/freertos.c ****   }
 939              		.loc 1 291 5 is_stmt 1 view .LVU206
 291:Core/Src/freertos.c ****   }
 940              		.loc 1 291 22 is_stmt 0 view .LVU207
 941 0030 074B     		ldr	r3, .L67+4
 942 0032 93ED000B 		vldr.64	d0, [r3]
 943 0036 FFF7FEFF 		bl	abs
 944              	.LVL72:
 945 003a 51EC100B 		vmov	r0, r1, d0
 291:Core/Src/freertos.c ****   }
 946              		.loc 1 291 5 view .LVU208
 947 003e FFF7FEFF 		bl	__aeabi_d2iz
 948              	.LVL73:
 949 0042 01B2     		sxth	r1, r0
 950 0044 0020     		movs	r0, #0
 951 0046 FFF7FEFF 		bl	TPDO_tarnsmit
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 47


 952              	.LVL74:
 293:Core/Src/freertos.c **** void PID_init(void)
 953              		.loc 1 293 1 view .LVU209
 954 004a F0E7     		b	.L60
 955              	.L68:
 956              		.align	2
 957              	.L67:
 958 004c 00004440 		.word	1078198272
 959 0050 00000000 		.word	.LANCHOR4
 960 0054 000044C0 		.word	-1069285376
 961 0058 00000000 		.word	.LANCHOR8
 962              		.cfi_endproc
 963              	.LFE172:
 965              		.section	.text.StartPIDTask,"ax",%progbits
 966              		.align	1
 967              		.global	StartPIDTask
 968              		.syntax unified
 969              		.thumb
 970              		.thumb_func
 972              	StartPIDTask:
 973              	.LVL75:
 974              	.LFB169:
 152:Core/Src/freertos.c ****   /* USER CODE BEGIN StartPIDTask */
 975              		.loc 1 152 1 is_stmt 1 view -0
 976              		.cfi_startproc
 977              		@ Volatile: function does not return.
 978              		@ args = 0, pretend = 0, frame = 0
 979              		@ frame_needed = 0, uses_anonymous_args = 0
 152:Core/Src/freertos.c ****   /* USER CODE BEGIN StartPIDTask */
 980              		.loc 1 152 1 is_stmt 0 view .LVU211
 981 0000 08B5     		push	{r3, lr}
 982              	.LCFI13:
 983              		.cfi_def_cfa_offset 8
 984              		.cfi_offset 3, -8
 985              		.cfi_offset 14, -4
 154:Core/Src/freertos.c ****   /* Infinite loop */
 986              		.loc 1 154 3 is_stmt 1 view .LVU212
 987 0002 FFF7FEFF 		bl	PID_init
 988              	.LVL76:
 154:Core/Src/freertos.c ****   /* Infinite loop */
 989              		.loc 1 154 3 is_stmt 0 view .LVU213
 990 0006 0DE0     		b	.L70
 991              	.L77:
 174:Core/Src/freertos.c ****       }
 992              		.loc 1 174 9 is_stmt 1 view .LVU214
 174:Core/Src/freertos.c ****       }
 993              		.loc 1 174 23 is_stmt 0 view .LVU215
 994 0008 214B     		ldr	r3, .L79
 995 000a D3E90001 		ldrd	r0, [r3]
 996 000e FFF7FEFF 		bl	__aeabi_d2iz
 997              	.LVL77:
 174:Core/Src/freertos.c ****       }
 998              		.loc 1 174 38 view .LVU216
 999 0012 00EB8000 		add	r0, r0, r0, lsl #2
 1000 0016 4000     		lsls	r0, r0, #1
 174:Core/Src/freertos.c ****       }
 1001              		.loc 1 174 20 view .LVU217
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 48


 1002 0018 4FF08043 		mov	r3, #1073741824
 1003 001c 9863     		str	r0, [r3, #56]
 1004              	.L74:
 181:Core/Src/freertos.c ****   }
 1005              		.loc 1 181 5 is_stmt 1 view .LVU218
 1006 001e 3220     		movs	r0, #50
 1007 0020 FFF7FEFF 		bl	osDelay
 1008              	.LVL78:
 156:Core/Src/freertos.c ****   {
 1009              		.loc 1 156 9 view .LVU219
 1010              	.L70:
 160:Core/Src/freertos.c ****     analyze_voltage();
 1011              		.loc 1 160 5 discriminator 1 view .LVU220
 158:Core/Src/freertos.c ****     {
 1012              		.loc 1 158 11 discriminator 1 view .LVU221
 158:Core/Src/freertos.c ****     {
 1013              		.loc 1 158 12 is_stmt 0 discriminator 1 view .LVU222
 1014 0024 1B4B     		ldr	r3, .L79+4
 1015 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 158:Core/Src/freertos.c ****     {
 1016              		.loc 1 158 11 discriminator 1 view .LVU223
 1017 0028 002B     		cmp	r3, #0
 1018 002a FBD0     		beq	.L70
 161:Core/Src/freertos.c ****     CW_CCW_deect();
 1019              		.loc 1 161 5 is_stmt 1 view .LVU224
 1020 002c FFF7FEFF 		bl	analyze_voltage
 1021              	.LVL79:
 162:Core/Src/freertos.c ****     PID_Compute(&TPID);
 1022              		.loc 1 162 5 view .LVU225
 1023 0030 FFF7FEFF 		bl	CW_CCW_deect
 1024              	.LVL80:
 163:Core/Src/freertos.c ****     CCR_value = abs(CCR_value);
 1025              		.loc 1 163 5 view .LVU226
 1026 0034 1848     		ldr	r0, .L79+8
 1027 0036 FFF7FEFF 		bl	PID_Compute
 1028              	.LVL81:
 164:Core/Src/freertos.c ****     PID_protection();
 1029              		.loc 1 164 5 view .LVU227
 164:Core/Src/freertos.c ****     PID_protection();
 1030              		.loc 1 164 17 is_stmt 0 view .LVU228
 1031 003a 154C     		ldr	r4, .L79
 1032 003c 94ED000B 		vldr.64	d0, [r4]
 1033 0040 FFF7FEFF 		bl	abs
 1034              	.LVL82:
 164:Core/Src/freertos.c ****     PID_protection();
 1035              		.loc 1 164 15 view .LVU229
 1036 0044 84ED000B 		vstr.64	d0, [r4]
 165:Core/Src/freertos.c ****     if (PID_safe_lock == false)
 1037              		.loc 1 165 5 is_stmt 1 view .LVU230
 1038 0048 FFF7FEFF 		bl	PID_protection
 1039              	.LVL83:
 166:Core/Src/freertos.c ****     {
 1040              		.loc 1 166 5 view .LVU231
 166:Core/Src/freertos.c ****     {
 1041              		.loc 1 166 23 is_stmt 0 view .LVU232
 1042 004c 134B     		ldr	r3, .L79+12
 1043 004e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 49


 166:Core/Src/freertos.c ****     {
 1044              		.loc 1 166 8 view .LVU233
 1045 0050 CBB9     		cbnz	r3, .L71
 168:Core/Src/freertos.c ****       {
 1046              		.loc 1 168 7 is_stmt 1 view .LVU234
 168:Core/Src/freertos.c ****       {
 1047              		.loc 1 168 11 is_stmt 0 view .LVU235
 1048 0052 134B     		ldr	r3, .L79+16
 1049 0054 D3E90001 		ldrd	r0, [r3]
 1050 0058 124B     		ldr	r3, .L79+20
 1051 005a D3E90023 		ldrd	r2, [r3]
 1052 005e FFF7FEFF 		bl	__aeabi_dsub
 1053              	.LVL84:
 1054 0062 41EC100B 		vmov	d0, r0, r1
 1055 0066 FFF7FEFF 		bl	abs
 1056              	.LVL85:
 1057 006a 51EC100B 		vmov	r0, r1, d0
 168:Core/Src/freertos.c ****       {
 1058              		.loc 1 168 10 view .LVU236
 1059 006e 0022     		movs	r2, #0
 1060 0070 4FF08043 		mov	r3, #1073741824
 1061 0074 FFF7FEFF 		bl	__aeabi_dcmplt
 1062              	.LVL86:
 1063 0078 0028     		cmp	r0, #0
 1064 007a C5D0     		beq	.L77
 170:Core/Src/freertos.c ****       }
 1065              		.loc 1 170 9 is_stmt 1 view .LVU237
 170:Core/Src/freertos.c ****       }
 1066              		.loc 1 170 20 is_stmt 0 view .LVU238
 1067 007c 4FF08043 		mov	r3, #1073741824
 1068 0080 0022     		movs	r2, #0
 1069 0082 9A63     		str	r2, [r3, #56]
 1070 0084 CBE7     		b	.L74
 1071              	.L71:
 179:Core/Src/freertos.c ****     }
 1072              		.loc 1 179 7 is_stmt 1 view .LVU239
 1073 0086 0821     		movs	r1, #8
 1074 0088 0748     		ldr	r0, .L79+24
 1075 008a FFF7FEFF 		bl	HAL_GPIO_TogglePin
 1076              	.LVL87:
 1077 008e C6E7     		b	.L74
 1078              	.L80:
 1079              		.align	2
 1080              	.L79:
 1081 0090 00000000 		.word	.LANCHOR12
 1082 0094 00000000 		.word	.LANCHOR14
 1083 0098 00000000 		.word	.LANCHOR13
 1084 009c 00000000 		.word	.LANCHOR6
 1085 00a0 00000000 		.word	.LANCHOR4
 1086 00a4 00000000 		.word	.LANCHOR5
 1087 00a8 00040048 		.word	1207960576
 1088              		.cfi_endproc
 1089              	.LFE169:
 1091              		.global	PID_safe_lock
 1092              		.global	protection_lock
 1093              		.global	previos_error
 1094              		.global	previous_voltage
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 50


 1095              		.global	voltage_counter
 1096              		.global	PID_contorl_lock
 1097              		.global	db_target_angle
 1098              		.global	current_angle
 1099              		.global	current_voltage
 1100              		.global	CCR_value
 1101              		.global	TPID
 1102              		.global	canopenTask_attributes
 1103              		.section	.rodata.str1.4,"aMS",%progbits,1
 1104              		.align	2
 1105              	.LC0:
 1106 0000 63616E6F 		.ascii	"canopenTask\000"
 1106      70656E54 
 1106      61736B00 
 1107              		.global	canopenTaskHandle
 1108              		.global	PIDTask_attributes
 1109              		.align	2
 1110              	.LC1:
 1111 000c 50494454 		.ascii	"PIDTask\000"
 1111      61736B00 
 1112              		.global	PIDTaskHandle
 1113              		.section	.bss.CCR_value,"aw",%nobits
 1114              		.align	3
 1115              		.set	.LANCHOR12,. + 0
 1118              	CCR_value:
 1119 0000 00000000 		.space	8
 1119      00000000 
 1120              		.section	.bss.PIDTaskHandle,"aw",%nobits
 1121              		.align	2
 1122              		.set	.LANCHOR1,. + 0
 1125              	PIDTaskHandle:
 1126 0000 00000000 		.space	4
 1127              		.section	.bss.PID_contorl_lock,"aw",%nobits
 1128              		.set	.LANCHOR14,. + 0
 1131              	PID_contorl_lock:
 1132 0000 00       		.space	1
 1133              		.section	.bss.PID_safe_lock,"aw",%nobits
 1134              		.set	.LANCHOR6,. + 0
 1137              	PID_safe_lock:
 1138 0000 00       		.space	1
 1139              		.section	.bss.TPID,"aw",%nobits
 1140              		.align	3
 1141              		.set	.LANCHOR13,. + 0
 1144              	TPID:
 1145 0000 00000000 		.space	112
 1145      00000000 
 1145      00000000 
 1145      00000000 
 1145      00000000 
 1146              		.section	.bss.canopenTaskHandle,"aw",%nobits
 1147              		.align	2
 1148              		.set	.LANCHOR3,. + 0
 1151              	canopenTaskHandle:
 1152 0000 00000000 		.space	4
 1153              		.section	.bss.current_angle,"aw",%nobits
 1154              		.align	3
 1155              		.set	.LANCHOR4,. + 0
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 51


 1158              	current_angle:
 1159 0000 00000000 		.space	8
 1159      00000000 
 1160              		.section	.bss.current_voltage,"aw",%nobits
 1161              		.align	3
 1162              		.set	.LANCHOR8,. + 0
 1165              	current_voltage:
 1166 0000 00000000 		.space	8
 1166      00000000 
 1167              		.section	.bss.db_target_angle,"aw",%nobits
 1168              		.align	3
 1169              		.set	.LANCHOR5,. + 0
 1172              	db_target_angle:
 1173 0000 00000000 		.space	8
 1173      00000000 
 1174              		.section	.bss.previos_error,"aw",%nobits
 1175              		.align	3
 1176              		.set	.LANCHOR10,. + 0
 1179              	previos_error:
 1180 0000 00000000 		.space	8
 1180      00000000 
 1181              		.section	.bss.previous_voltage,"aw",%nobits
 1182              		.align	3
 1183              		.set	.LANCHOR9,. + 0
 1186              	previous_voltage:
 1187 0000 00000000 		.space	8
 1187      00000000 
 1188              		.section	.bss.protection_lock,"aw",%nobits
 1189              		.set	.LANCHOR11,. + 0
 1192              	protection_lock:
 1193 0000 00       		.space	1
 1194              		.section	.bss.voltage_counter,"aw",%nobits
 1195              		.align	2
 1196              		.set	.LANCHOR7,. + 0
 1199              	voltage_counter:
 1200 0000 00000000 		.space	4
 1201              		.section	.rodata.PIDTask_attributes,"a"
 1202              		.align	2
 1203              		.set	.LANCHOR0,. + 0
 1206              	PIDTask_attributes:
 1207 0000 0C000000 		.word	.LC1
 1208 0004 00000000 		.space	16
 1208      00000000 
 1208      00000000 
 1208      00000000 
 1209 0014 00020000 		.word	512
 1210 0018 28000000 		.word	40
 1211 001c 00000000 		.space	8
 1211      00000000 
 1212              		.section	.rodata.canopenTask_attributes,"a"
 1213              		.align	2
 1214              		.set	.LANCHOR2,. + 0
 1217              	canopenTask_attributes:
 1218 0000 00000000 		.word	.LC0
 1219 0004 00000000 		.space	16
 1219      00000000 
 1219      00000000 
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 52


 1219      00000000 
 1220 0014 00020000 		.word	512
 1221 0018 30000000 		.word	48
 1222 001c 00000000 		.space	8
 1222      00000000 
 1223              		.text
 1224              	.Letext0:
 1225              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1226              		.file 5 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1227              		.file 6 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1228              		.file 7 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303x8.h"
 1229              		.file 8 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f3xx.h"
 1230              		.file 9 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1231              		.file 10 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1232              		.file 11 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_adc_ex.h"
 1233              		.file 12 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_adc.h"
 1234              		.file 13 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_can.h"
 1235              		.file 14 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_tim.h"
 1236              		.file 15 "Middlewares/Third_Party/FreeRTOS/Source/CMSIS_RTOS_V2/cmsis_os2.h"
 1237              		.file 16 "Middlewares/Third_Party/CANopenNode_STM32/CO_driver_target.h"
 1238              		.file 17 "Middlewares/Third_Party/CANopenNode/301/CO_Emergency.h"
 1239              		.file 18 "Middlewares/Third_Party/CANopenNode/301/CO_NMT_Heartbeat.h"
 1240              		.file 19 "Middlewares/Third_Party/CANopenNode/301/CO_HBconsumer.h"
 1241              		.file 20 "Middlewares/Third_Party/CANopenNode/301/CO_SDOserver.h"
 1242              		.file 21 "Middlewares/Third_Party/CANopenNode/301/CO_SYNC.h"
 1243              		.file 22 "Middlewares/Third_Party/CANopenNode/301/CO_TIME.h"
 1244              		.file 23 "Middlewares/Third_Party/CANopenNode/303/CO_LEDs.h"
 1245              		.file 24 "Middlewares/Third_Party/CANopenNode/305/CO_LSS.h"
 1246              		.file 25 "Middlewares/Third_Party/CANopenNode/305/CO_LSSslave.h"
 1247              		.file 26 "Middlewares/Third_Party/CANopenNode/CANopen.h"
 1248              		.file 27 "Middlewares/Third_Party/CANopenNode_STM32/CO_app_STM32.h"
 1249              		.file 28 "Middlewares/Third_Party/CANopenNode_STM32/OD.h"
 1250              		.file 29 "Core/Inc/tim.h"
 1251              		.file 30 "Core/Inc/can.h"
 1252              		.file 31 "Core/Inc/pid.h"
 1253              		.file 32 "Core/Inc/adc.h"
 1254              		.file 33 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 53


DEFINED SYMBOLS
                            *ABS*:00000000 freertos.c
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:20     .text.MX_FREERTOS_Init:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:26     .text.MX_FREERTOS_Init:00000000 MX_FREERTOS_Init
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:63     .text.MX_FREERTOS_Init:00000020 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:972    .text.StartPIDTask:00000000 StartPIDTask
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:683    .text.canopen_task:00000000 canopen_task
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:74     .text.CW_CCW_deect:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:80     .text.CW_CCW_deect:00000000 CW_CCW_deect
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:122    .text.CW_CCW_deect:00000030 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:128    .text.PID_Error_handler:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:134    .text.PID_Error_handler:00000000 PID_Error_handler
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:156    .text.PID_Error_handler:00000010 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:161    .text.abs:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:167    .text.abs:00000000 abs
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:215    .text.analyze_voltage:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:221    .text.analyze_voltage:00000000 analyze_voltage
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:384    .text.analyze_voltage:000000f8 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:404    .text.PID_init:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:410    .text.PID_init:00000000 PID_init
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:488    .text.PID_init:00000078 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:505    .text.TPDO_tarnsmit:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:511    .text.TPDO_tarnsmit:00000000 TPDO_tarnsmit
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:670    .text.TPDO_tarnsmit:00000088 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:677    .text.canopen_task:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:879    .text.canopen_task:000000e8 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:892    .text.PID_protection:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:898    .text.PID_protection:00000000 PID_protection
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:958    .text.PID_protection:0000004c $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:966    .text.StartPIDTask:00000000 $t
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1081   .text.StartPIDTask:00000090 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1137   .bss.PID_safe_lock:00000000 PID_safe_lock
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1192   .bss.protection_lock:00000000 protection_lock
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1179   .bss.previos_error:00000000 previos_error
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1186   .bss.previous_voltage:00000000 previous_voltage
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1199   .bss.voltage_counter:00000000 voltage_counter
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1131   .bss.PID_contorl_lock:00000000 PID_contorl_lock
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1172   .bss.db_target_angle:00000000 db_target_angle
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1158   .bss.current_angle:00000000 current_angle
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1165   .bss.current_voltage:00000000 current_voltage
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1118   .bss.CCR_value:00000000 CCR_value
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1144   .bss.TPID:00000000 TPID
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1217   .rodata.canopenTask_attributes:00000000 canopenTask_attributes
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1104   .rodata.str1.4:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1151   .bss.canopenTaskHandle:00000000 canopenTaskHandle
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1206   .rodata.PIDTask_attributes:00000000 PIDTask_attributes
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1125   .bss.PIDTaskHandle:00000000 PIDTaskHandle
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1114   .bss.CCR_value:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1121   .bss.PIDTaskHandle:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1132   .bss.PID_contorl_lock:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1138   .bss.PID_safe_lock:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1140   .bss.TPID:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1147   .bss.canopenTaskHandle:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1154   .bss.current_angle:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1161   .bss.current_voltage:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1168   .bss.db_target_angle:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1175   .bss.previos_error:00000000 $d
ARM GAS  C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s 			page 54


C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1182   .bss.previous_voltage:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1193   .bss.protection_lock:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1195   .bss.voltage_counter:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1202   .rodata.PIDTask_attributes:00000000 $d
C:\Users\walker\AppData\Local\Temp\ccfBY3Nf.s:1213   .rodata.canopenTask_attributes:00000000 $d

UNDEFINED SYMBOLS
osThreadNew
__aeabi_dcmplt
HAL_GPIO_WritePin
__aeabi_dsub
__aeabi_ui2d
__aeabi_dmul
__aeabi_dadd
__aeabi_d2iz
__aeabi_i2d
__aeabi_dcmpge
HAL_ADC_Start
HAL_ADC_PollForConversion
HAL_ADC_GetValue
hadc1
OD_PERSIST_COMM
HAL_TIM_PWM_Start
osDelay
PID
PID_SetMode
PID_SetSampleTime
PID_SetOutputLimits
htim2
OD_find
OD_set_value
OD
canopenNodeSTM32
canopen_app_init
canopen_app_process
hcan
MX_CAN_Init
htim17
__aeabi_dcmpgt
PID_Compute
HAL_GPIO_TogglePin
